<html><head><title>New-VirtualSwitch - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-VirtualSwitch" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-VirtualSwitch, New, VirtualSwitch" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-VirtualSwitch</h1><h2>Synopsis</h2>This cmdlet creates a new virtual switch.<p class="table-title">Syntax</p>New-VirtualSwitch [-VMHost] &lt;VMHost&gt; [-Name] &lt;String&gt; [[-NumPorts] &lt;Int32&gt;] [[-Nic] &lt;PhysicalNic[]&gt;] [[-Mtu] &lt;Int32&gt;] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/New-VirtualSwitch.html'>Online version</a><br><a href='Get-VirtualSwitch.html'>Get-VirtualSwitch</a><br><p class="table-title">Detailed Description</p>This cmdlet creates a new virtual switch on the host that is specified by the VMHost parameter.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VMHost" name="VMHost"></a><strong>VMHost</strong></td><td><a href="VMHost.html">VMHost</a></td><td>Specifies the host on which you want to create the new virtual switch.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a name for the new virtual switch.</td><td>true</td><td>false</td><tr class="r1"><td><a id="NumPorts" name="NumPorts"></a><strong>NumPorts</strong></td><td>Int32</td><td>Specifies the virtual switch port number. The value is rounded to the closest exact power of two that is greater than the given number (for example, if the user specifies 67, this number is rounded to 128). Note that the port number displayed in the vSphere Client might differ from the value that you specified for the NumPorts parameter.
<br/>
<br/>Note: In ESX 5.5 or later, standard virtual switches are always elastic, so the NumPorts parameter is no longer applicable and its value is ignored.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Nic" name="Nic"></a><strong>Nic</strong></td><td><a href="PhysicalNic.html">PhysicalNic</a>[]</td><td>Specifies the physical network interface cards you want to add to the Active NICs of the new virtual switch. This parameter accepts both objects and strings.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Mtu" name="Mtu"></a><strong>Mtu</strong></td><td>Int32</td><td>Specifies the maximum transmission unit (MTU) associated with the specified virtual switch (in bytes). The MTU value is always greater than 0.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The newly created <a href="VirtualSwitch.html">VirtualSwitch</a> object
<p class="table-title">Notes</p>NumPorts are at least as many as the user specified. (The server rounds it up to the closest exact power of two, 
    greater than the given number)
    The MTU field is only available on VPX 2.5  and ESX 3.5. For older VPX versions, this field is expected to be null.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$vswitch =  New-VirtualSwitch -VMHost 10.23.112.234 -Name VSwitch</pre><p>Creates a new virtual switch named VSwitch on the virtual machine host with IP address 10.23.112.234.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">$network = Get-VMHostNetwork -VMHost 10.23.112.234

$phNic = $network.PhysicalNic[0].DeviceName

$vswitch = New-VirtualSwitch -VMHost 10.23.112.234 -Name VSwitch -Nic $phNic</pre><p>Creates a new virtual switch named VSwitch on the virtual machine host with IP address 10.23.112.234 with a physical network adapter.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Get-VMHost *.128 | New-VirtualSwitch -Name VSwitch -Nic vmnic5,vmnic6</pre><p>Create a virtual switch named VSwitch with two physical network adapters - &#39;vmnic5&#39; and &#39;vmnic6&#39;. Note that the &#39;vmnic5&#39; and &#39;vmnic6&#39; adapters must not be assigned to other virtual switches.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
