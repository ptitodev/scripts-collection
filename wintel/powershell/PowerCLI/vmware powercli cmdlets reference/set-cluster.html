<html><head><title>Set-Cluster - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-Cluster" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-Cluster, Set, Cluster" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-Cluster</h1><h2>Synopsis</h2>This cmldlet modifies the configuration of a cluster.<p class="table-title">Syntax</p>Set-Cluster [-HARestartPriority &lt;HARestartPriority&gt;] [-HAIsolationResponse &lt;HAIsolationResponse&gt;] [-VMSwapfilePolicy &lt;VMSwapfilePolicy&gt;] [-Cluster] &lt;Cluster[]&gt; [[-Name] &lt;String&gt;] [-HAEnabled &lt;Boolean&gt;] [-HAAdmissionControlEnabled &lt;Boolean&gt;] [-HAFailoverLevel &lt;Int32&gt;] [-DrsEnabled &lt;Boolean&gt;] [-DrsMode &lt;DrsMode&gt;] [-DrsAutomationLevel &lt;DrsAutomationLevel&gt;] [-VsanEnabled &lt;Boolean&gt;] [-VsanDiskClaimMode &lt;VsanDiskClaimMode&gt;] [-Profile &lt;VMHostProfile&gt;] [-EVCMode &lt;String&gt;] [-Server &lt;VIServer[]&gt;] [-RunAsync] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-Cluster.html'>Online version</a><br><a href='Get-Cluster.html'>Get-Cluster</a><br><a href='New-Cluster.html'>New-Cluster</a><br><a href='Move-Cluster.html'>Move-Cluster</a><br><a href='Remove-Cluster.html'>Remove-Cluster</a><br><p class="table-title">Detailed Description</p>This cmdlet modifies the configuration of a cluster.
<br/>HAEnabled is automatically set to $true if some of the HA settings, HAAdmissionControlEnabled, HAFailoverLevel, HARestartPriority, HAIsolationResponse, are specified.
<br/>DrsEnabled is automatically set to $true if some of the DRS settings, DrsAutomationLevel, DrsMode, are specified.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Cluster" name="Cluster"></a><strong>Cluster</strong></td><td><a href="Cluster.html">Cluster</a>[]</td><td>Specifies the name of the cluster you want to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a new name for the cluster.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DrsAutomationLevel" name="DrsAutomationLevel"></a><strong>DrsAutomationLevel</strong></td><td><a href="DrsAutomationLevel.html">DrsAutomationLevel</a></td><td>Specifies a DRS (Distributed Resource Scheduler) automation level. The valid values are FullyAutomated, Manual, and PartiallyAutomated.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DrsEnabled" name="DrsEnabled"></a><strong>DrsEnabled</strong></td><td>Boolean</td><td>Indicates that VMware DRS (Distributed Resource Scheduler) is enabled.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DrsMode" name="DrsMode"></a><strong>DrsMode</strong></td><td><a href="DrsMode.html">DrsMode</a></td><td>This parameter is deprecated and scheduled for removal. Use the DrsAutomationLevel parameter instead. 
<br/>
<br/>Specifies a DRS (Distributed Resource Scheduler) mode. The valid values are FullyAutomated, Manual, and PartiallyAutomated.</td><td>false</td><td>false</td><tr class="r1"><td><a id="EVCMode" name="EVCMode"></a><strong>EVCMode</strong></td><td>String</td><td>Specifies the VMware Enhanced vMotion Compatibility (EVC) mode of the newly created cluster. If not specified or set to $null, EVC is disabled.</td><td>false</td><td>false</td><tr class="r0"><td><a id="HAAdmissionControlEnabled" name="HAAdmissionControlEnabled"></a><strong>HAAdmissionControlEnabled</strong></td><td>Boolean</td><td>Indicates that the virtual machines in the cluster will not start if they violate availability constraints.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HAEnabled" name="HAEnabled"></a><strong>HAEnabled</strong></td><td>Boolean</td><td>Indicates that VMware High Availability is enabled.</td><td>false</td><td>false</td><tr class="r0"><td><a id="HAFailoverLevel" name="HAFailoverLevel"></a><strong>HAFailoverLevel</strong></td><td>Int32</td><td>Specifies a failover level. This is the number of physical host failures that can be tolerated without impacting the ability to meet minimum thresholds for all running virtual machines. The valid values range from one to four.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HAIsolationResponse" name="HAIsolationResponse"></a><strong>HAIsolationResponse</strong></td><td><a href="HAIsolationResponse.html">HAIsolationResponse</a></td><td>Specifies whether the virtual machine should be powered off if a host determines that it is isolated from the rest of the compute resource. The valid values are PowerOff and DoNothing. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release.</td><td>false</td><td>false</td><tr class="r0"><td><a id="HARestartPriority" name="HARestartPriority"></a><strong>HARestartPriority</strong></td><td><a href="HARestartPriority.html">HARestartPriority</a></td><td>Specifies the cluster HA restart priority. The valid values are Disabled, Low, Medium, and High. VMware HA is a feature that detects failed virtual machines and automatically restarts them on alternative ESX/ESXi hosts. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Profile" name="Profile"></a><strong>Profile</strong></td><td><a href="VMHostProfile.html">VMHostProfile</a></td><td>Specifies a host profile you want to associate with the cluster. If the value of this parameter is $null, the current profile association is removed.</td><td>false</td><td>false</td><tr class="r0"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VMSwapfilePolicy" name="VMSwapfilePolicy"></a><strong>VMSwapfilePolicy</strong></td><td><a href="VMSwapfilePolicy.html">VMSwapfilePolicy</a></td><td>Specifies the swapfile placement policy. The following values are valid:
<br/>
<br/>InHostDataStore - Store the swapfile in the datastore specified by the VMSwapfileDatastoreID property of the virtual machine host. If the VMSwapfileDatastoreID property is not set or indicates a datastore with insufficient free space, the swapfile is stored in the same directory as the virtual machine. This setting might degrade the VMotion performance.
<br/>
<br/>
<br/>WithVM - Store the swapfile in the same directory as the virtual machine.</td><td>false</td><td>false</td><tr class="r1"><td><a id="VsanDiskClaimMode" name="VsanDiskClaimMode"></a><strong>VsanDiskClaimMode</strong></td><td><a href="VsanDiskClaimMode.html">VsanDiskClaimMode</a></td><td>Specifies the mode by which disks are claimed by the Virtual SAN.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VsanEnabled" name="VsanEnabled"></a><strong>VsanEnabled</strong></td><td>Boolean</td><td>Specifies whether the Virtual SAN feature is enabled on this cluster.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="Cluster.html">Cluster</a> objects
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Get-Cluster -Name &quot;MyClusterName&quot; | Set-Cluster -Name &quot;NewClusterName&quot; -HAEnabled:$true -HAAdmissionControlEnabled:$true -HAFailoverLevel 2 -VMSwapfilePolicy &quot;InHostDatastore&quot; -HARestartPriority &quot;Low&quot; -HAIsolationResponse &quot;PowerOff&quot;</pre><p>Renames the &quot;MyClusterName&quot; cluster to &quot;NewClusterName&quot; and changes its VMware HA (Hgh Availability) settings.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Set-Cluster -Cluster &quot;MyClusterName&quot; -DRSEnabled:$true -DRSAutomationLevel &quot;Manual&quot;</pre><p>Changes the VMware DRS (Distributed Resource Scheduler) settings of the &quot;MyClusterName&quot; cluster.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Set-Cluster -Cluster &quot;MyClusterName&quot; -EVCMode &quot;intel-nehalem&quot;</pre><p>Changes the VMware EVC (Enhanced vMotion Compatibility) settings of the &quot;MyClusterName&quot; cluster.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
