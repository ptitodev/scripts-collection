<html><head><title>Update-Entity - VMware vSphere Update Manager PowerCLI</title><meta name="description" content=" Update-Entity" /><meta name="keywords" content="VMware vSphere Update Manager PowerCLI, Update-Entity, Update, Entity" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Update-Entity</h1><h2>Synopsis</h2>This cmdlet remediates an inventory object against the specified baselines.<p class="table-title">Syntax</p>Update-Entity [-Server &lt;VIServer[]&gt;] -Entity &lt;InventoryItem&gt; -Baseline &lt;Baseline[]&gt; [-ExcludePatch &lt;Patch[]&gt;] [-GuestCreateSnapshot [&lt;Boolean&gt;]] [-GuestKeepSnapshotHours &lt;Int32&gt;] [-GuestTakeMemoryDump [&lt;Boolean&gt;]] [-GuestSnapshotName &lt;String&gt;] [-GuestSnapshotDescription &lt;String&gt;] [-HostRetryDelaySeconds &lt;Int32&gt;] [-HostNumberOfRetries &lt;Int32&gt;] [-HostFailureAction &lt;HostRemediationFailureAction&gt;] [-HostPreRemediationPowerAction &lt;HostPreRemediationPowerAction&gt;] [-HostDisableMediaDevices [&lt;Boolean&gt;]] [-HostIgnoreThirdPartyDrivers [&lt;Boolean&gt;]] [-HostEnablePXEbootHostPatching [&lt;Boolean&gt;]] [-ClusterDisableDistributedPowerManagement [&lt;Boolean&gt;]] [-ClusterDisableHighAvailability [&lt;Boolean&gt;]] [-ClusterDisableFaultTolerance [&lt;Boolean&gt;]] [-ClusterEnableParallelRemediation [&lt;Boolean&gt;]] [-RunAsync] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='http://www.vmware.com/support/developer/PowerCLI/PowerCLI65R1/html/Update-Entity.html'>Online version</a><br><a href='Test-Compliance.html'>Test-Compliance</a><br><p class="table-title">Detailed Description</p>This cmdlet remediates an inventory object against the specified baselines. If RunAsync is set, returns a task that can be used to monitor the remediation progress. You can remediate Template, VirtualMachine, VMHost, Cluster, Datacenter, Folder, and VApp objects.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td>Specifies the vSphere servers on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="Entity" name="Entity"></a><strong>Entity</strong></td><td>Specifies a Template, VirtualMachine, VMHost, Cluster, Datacenter, Folder, or VApp object to remediate.</td><td>true</td><td>true (ByValue)</td><td></td></tr><tr class="r1"><td><a id="Baseline" name="Baseline"></a><strong>Baseline</strong></td><td>Specifies the baseline you want to use for the remediation.</td><td>true</td><td>true (ByValue)</td><td></td></tr><tr class="r0"><td><a id="ExcludePatch" name="ExcludePatch"></a><strong>ExcludePatch</strong></td><td>Specifies the patches you want to exclude from the remediation process.</td><td>false</td><td>true (ByValue)</td><td></td></tr><tr class="r1"><td><a id="GuestCreateSnapshot" name="GuestCreateSnapshot"></a><strong>GuestCreateSnapshot</strong></td><td>Indicates that you want to create a snapshot before initializing remediation.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="GuestKeepSnapshotHours" name="GuestKeepSnapshotHours"></a><strong>GuestKeepSnapshotHours</strong></td><td>Specifies how long (in hours) you want to keep the snapshot. If not set, the snapshots are never deleted.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="GuestTakeMemoryDump" name="GuestTakeMemoryDump"></a><strong>GuestTakeMemoryDump</strong></td><td>Indicates that you want the guest to take a memory dump while creating a snapshot.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="GuestSnapshotName" name="GuestSnapshotName"></a><strong>GuestSnapshotName</strong></td><td>Specifies a name for the snapshot you want to create before initializing remediation. This parameter is valid only if the GuestCreateSnapshot parameter is set.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="GuestSnapshotDescription" name="GuestSnapshotDescription"></a><strong>GuestSnapshotDescription</strong></td><td>Specifies a description for the snapshot you want to create before initializing remediation. This parameter is valid only if the GuestCreateSnapshot parameter is set.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="HostRetryDelaySeconds" name="HostRetryDelaySeconds"></a><strong>HostRetryDelaySeconds</strong></td><td>Specifies how long (in seconds) to wait for the host to enter a maintenance mode.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="HostNumberOfRetries" name="HostNumberOfRetries"></a><strong>HostNumberOfRetries</strong></td><td>Specifies how many times to retry to set the host into a maintenance mode.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="HostFailureAction" name="HostFailureAction"></a><strong>HostFailureAction</strong></td><td>Specifies an action in case the host cannot be placed in a maintenance mode. This might happen due to running virtual machines that cannot be automatically migrated to another host. The valid values are FailTask, Retry, PowerOffVMsAndRetry, and SuspendVMsAndRetry.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="HostPreRemediationPowerAction" name="HostPreRemediationPowerAction"></a><strong>HostPreRemediationPowerAction</strong></td><td>Specifies an action before trying to enter the host into a maintenance mode. The valid values are PowerOffVMs, SuspendVMs, and DoNotChangeVMsPowerState.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="HostDisableMediaDevices" name="HostDisableMediaDevices"></a><strong>HostDisableMediaDevices</strong></td><td>Indicates that you want to temporarily disable any media devices that might prevent the specified hosts from entering maintenance mode.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="HostIgnoreThirdPartyDrivers" name="HostIgnoreThirdPartyDrivers"></a><strong>HostIgnoreThirdPartyDrivers</strong></td><td>Indicates that you want to ignore installed third-party software that is incompatible with the upgrade.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="HostEnablePXEbootHostPatching" name="HostEnablePXEbootHostPatching"></a><strong>HostEnablePXEbootHostPatching</strong></td><td>Indicates that you want to enable PXE booted ESXi hosts patching.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="ClusterDisableDistributedPowerManagement" name="ClusterDisableDistributedPowerManagement"></a><strong>ClusterDisableDistributedPowerManagement</strong></td><td>Indicates that you want to temporarily disable Distributed Power Management (DPM) for the specified clusters. After the remediation, DPM is automatically re-enabled.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="ClusterDisableHighAvailability" name="ClusterDisableHighAvailability"></a><strong>ClusterDisableHighAvailability</strong></td><td>Indicates that you want to temporarily disable High Availability (HA) for the specified clusters. After the remediation, HA is automatically re-enabled.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="ClusterDisableFaultTolerance" name="ClusterDisableFaultTolerance"></a><strong>ClusterDisableFaultTolerance</strong></td><td>Indicates that you want to temporarily disable Fault Tolerance (FT) for the specified clusters. After the remediation, FT is automatically re-enabled.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="ClusterEnableParallelRemediation" name="ClusterEnableParallelRemediation"></a><strong>ClusterEnableParallelRemediation</strong></td><td>Indicates that you want to enable parallel remediation for the specified clusters.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the -RunAsync parameter run &quot;help About_RunAsync&quot; in the vSphere PowerCLI console.</td><td>false</td><td>false</td><td></td></tr><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>Indicates that the cmdlet asks for confirmation before running.</td><td>false</td><td>false</td><td></td></tr></table><p class="table-title">Return Type</p>VMware.VimAutomation.Types.Task[] or null
    
If RunAsync is set, the return value is a Task object representing the remediation task on the vSphere server. If RunAsync is not set,  no value is returned.<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Update-Entity -Baseline $baseline -Entity $vmhost -RunAsync -Confirm $false</pre><p>Remediates a host in asynchronous mode.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Update-Entity -Baseline $vmHardwareUpgradeBaseline -Entity $vm -GuestCreateSnapshot:$true</pre><p>Upgrades a virtual machine with the latest virtual hardware. If the upgrade fails, the command creates a snapshot of the target virtual machine.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Update-Entity -Baseline $baseline -Entity $cluster -ClusterDisableDistributedPowerManagement:$true -ClusterDisableFaultTolerance:$true -ClusterDisableHighAvailability:$true</pre><p>Remediates a cluster with DPM, HA, and FT that are enabled and need to be disabled during the remediation process.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Update-Entity -Baseline $baseline -Entity $cluster -ClusterEnableParallelRemediation:$true</pre><p>Remediates a cluster in parallel mode. All hosts in the cluster are remediated simultaneously and that saves time.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">Update-Entity -Baseline $baseline -Entity $vmhost -HostIgnoreThirdPartyDrivers:$true</pre><p>Remediates a host with preinstalled third-party drivers, which prevent host from upgrade.</p></div><hr>Copyright &copy; 1998 - 2015 VMware, Inc.&nbsp;All rights reserved.</body></html>
