<html><head><title>Get-DrsRule - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Get-DrsRule" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Get-DrsRule, Get, DrsRule" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Get-DrsRule</h1><h2>Synopsis</h2>This cmdlet retrieves the list of DRS rules for the specified clusters.<p class="table-title">Syntax</p>Get-DrsRule [[-Name] &lt;String[]&gt;] [-Cluster] &lt;Cluster[]&gt; [[-VM] &lt;VirtualMachine[]&gt;] [-Type &lt;ResourceSchedulingRuleType[]&gt;] [-Server &lt;VIServer[]&gt;] [&lt;CommonParameters&gt;]
<br/>
<br/>Get-DrsRule [[-Name] &lt;String[]&gt;] [-Cluster] &lt;Cluster[]&gt; [[-VM] &lt;VirtualMachine[]&gt;] [-VMHost &lt;VMHost[]&gt;] [-Server &lt;VIServer[]&gt;] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Get-DrsRule.html'>Online version</a><br><a href='New-DrsRule.html'>New-DrsRule</a><br><a href='Remove-DrsRule.html'>Remove-DrsRule</a><br><a href='Set-DrsRule.html'>Set-DrsRule</a><br><p class="table-title">Detailed Description</p>This cmdlet retrieves the list of DRS rules for the specified clusters. Each rule defines the virtual machines that can run on the same host (affinity rule) or must run on different hosts (anti-affinity).
<br/>
<br/>Note: To retrieve VMHostAffinity rules, you need to state this explicitly by using the Type or the VMHost parameter. Otherwise, this cmdlet returns VMAffinity and VMAntiAffinity rules.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String[]</td><td>Specifies the name of the DRS rule you want to retrieve.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Cluster" name="Cluster"></a><strong>Cluster</strong></td><td><a href="Cluster.html">Cluster</a>[]</td><td>Specifies the clusters for which you want to retrieve the DRS rules.</td><td>true</td><td>true (ByValue)</td><tr class="r1"><td><a id="VM" name="VM"></a><strong>VM</strong></td><td><a href="VirtualMachine.html">VirtualMachine</a>[]</td><td>Specifies virtual machines to filter the DRS rules that reference them. Passing values to this parameter through a pipeline is deprecated and will be removed in a future release.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Type" name="Type"></a><strong>Type</strong></td><td><a href="ResourceSchedulingRuleType.html">ResourceSchedulingRuleType</a>[]</td><td>Specifies the type of DRS rules you want to retrieve. This parameter accepts VMAntiAffinity, VMAffinity, and VMHostAffinity values. You cannot set this parameter, when the VMHost parameter is specified.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VMHost" name="VMHost"></a><strong>VMHost</strong></td><td><a href="VMHost.html">VMHost</a>[]</td><td>Specifies VM hosts to filter the DRS rules that reference them. When this parameter is specified, the cmdlet returns only VMHostAffinity rules. You cannot set this parameter, when the Type parameter is specified.</td><td>false</td><td>true (ByValue)</td></table><p class="table-title">Return Type</p>Zero or more <a href="DrsRule.html">DrsRule</a> objects
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$myCluster = Get-Cluster -Name &quot;MyCluster1&quot;
Get-DrsRule -Cluster $myCluster -Name &quot;*Rule1*&quot;</pre><p>Retrieves the DRS rules for the cluster stored in the $myCluster variable, whose names contain &quot;Rule1&quot;.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Get-Cluster -Name &#39;MyCluster1&#39; | Get-DrsRule</pre><p>Retrieves the virtual machine affinity and anti-affinity rules for the specified cluster by pipeline.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">$myVm1 = Get-VM -Name &#39;MyVm1&#39;
$myCluster1 = Get-Cluster &#39;MyCluster1&#39;
Get-DrsRule -Cluster $myCluster1 -VM $myVm1</pre><p>Retrieves the virtual machine affinity and anti-affinity rules for the specified virtual machine in the specified cluster.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Get-Cluster &#39;MyCluster1&#39; | Get-DrsRule -Type VMHostAffinity</pre><p>Retrieves virtual machine to host affinity rules for the specified cluster by pipeline.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">$myVMHost1 = Get-VMHost -Name &#39;MyVMHost1&#39;
$myCluster1 = Get-Cluster -Name &#39;MyCluster1&#39;
Get-DrsRule -Cluster $myCluster1 -VMHost $myVMHost1</pre><p>Retrieves virtual machine to host affinity rules for the specified host and cluster.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
