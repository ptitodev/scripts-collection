<html><head><title>New-Datastore - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-Datastore" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-Datastore, New, Datastore" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-Datastore</h1><h2>Synopsis</h2>This cmdlet creates a new datastore.<p class="table-title">Syntax</p>New-Datastore [-Server &lt;VIServer[]&gt;] [-VMHost] &lt;VMHost&gt; [-Name] &lt;String&gt; -Path &lt;String&gt; [-Nfs] -NfsHost &lt;String[]&gt; [-ReadOnly] [-Kerberos] [-FileSystemVersion &lt;String&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-Datastore [-Server &lt;VIServer[]&gt;] [-VMHost] &lt;VMHost&gt; [-Name] &lt;String&gt; -Path &lt;String&gt; [-Vmfs] [-BlockSizeMB &lt;Int32&gt;] [-FileSystemVersion &lt;String&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/New-Datastore.html'>Online version</a><br><a href='Get-Datastore.html'>Get-Datastore</a><br><a href='Remove-Datastore.html'>Remove-Datastore</a><br><a href='Set-Datastore.html'>Set-Datastore</a><br><a href='Move-Datastore.html'>Move-Datastore</a><br><p class="table-title">Detailed Description</p>This cmdlet creates a new datastore based on the provided parameters. The following characters cannot be used in a datastore name: slash (/), backslash (\), and percent (%).<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VMHost" name="VMHost"></a><strong>VMHost</strong></td><td><a href="VMHost.html">VMHost</a></td><td>Specifies a host where you want to create the new datastore. Passing multiple values to this parameter is obsolete.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a name for the new datastore.</td><td>true</td><td>false</td><tr class="r1"><td><a id="BlockSizeMB" name="BlockSizeMB"></a><strong>BlockSizeMB</strong></td><td>Int32</td><td>Specifies the maximum file size of VMFS in megabytes (MB). If no value is given, the maximum file size for the current system platform is used.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="FileSystemVersion" name="FileSystemVersion"></a><strong>FileSystemVersion</strong></td><td>String</td><td>Specifies the file system you want to use on the new datastore.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Kerberos" name="Kerberos"></a><strong>Kerberos</strong></td><td>SwitchParameter</td><td>By default, NFS datastores are created with AUTH_SYS as the authentication protocol. This parameter indicates that the NFS datastore uses Kerberos version 5 for authentication. This parameter is available only for NFS version 4.1 datastores.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Nfs" name="Nfs"></a><strong>Nfs</strong></td><td>SwitchParameter</td><td>Indicates that you want to create an NFS datastore.</td><td>false</td><td>false</td><tr class="r0"><td><a id="NfsHost" name="NfsHost"></a><strong>NfsHost</strong></td><td>String[]</td><td>Specifies the NFS host where you want to create the new datastore.</td><td>true</td><td>false</td><tr class="r1"><td><a id="Path" name="Path"></a><strong>Path</strong></td><td>String</td><td>If you want to create an NFS datastore, specify the remote path of the NFS mount point.
<br/>If you want to create a VMFS datastore, specify the canonical name of the SCSI logical unit that will contain new VMFS datastores.</td><td>true</td><td>false</td><tr class="r0"><td><a id="ReadOnly" name="ReadOnly"></a><strong>ReadOnly</strong></td><td>SwitchParameter</td><td>Indicates that the access mode for the mount point is ReadOnly. The default access mode is ReadWrite.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Vmfs" name="Vmfs"></a><strong>Vmfs</strong></td><td>SwitchParameter</td><td>Indicates that you want to create a VMFS datastore.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The one or more newly created <a href="Datastore.html">Datastore</a> objects
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">New-Datastore -VMHost $vmhost -Name Datastore -Path $scsiLun.CanonicalName -Vmfs -FileSystemVersion 3</pre><p>Creates a VMFS datastore by specifying the file system type.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">New-Datastore -Nfs -VMHost 10.23.112.60 -Name NFSDatastore -Path /mynfs -NfsHost 10.23.84.73</pre><p>Creates a NFS datastore.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">$vmhost1, $vmhost2 | New-Datastore -Nfs -Name NFS1 -Path &quot;/mnt/nfs1/nfs11/test1&quot; -NfsHost 10.23.113.55 -ReadOnly</pre><p>Creates a read-only NFS datastore across multiple virtual machine hosts.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
