<html><head><title>New-SpbmRule - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-SpbmRule" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-SpbmRule, New, SpbmRule" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-SpbmRule</h1><h2>Synopsis</h2>This cmdlet creates an SPBM rule in the client side.<p class="table-title">Syntax</p>New-SpbmRule [-Capability] &lt;SpbmCapability&gt; [-Value] &lt;Object&gt; [-Server &lt;VIServer&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-SpbmRule -AnyOfTags &lt;Tag[]&gt; [-Server &lt;VIServer&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='http://www.vmware.com/support/developer/PowerCLI/PowerCLI651/html/New-SpbmRule.html'>Online version</a><br><p class="table-title">Detailed Description</p>This cmdlet creates an SPBM rule in the client side.
<br/>
<br/>There are two types of rules - capability-based rules and tag-based rules.
<br/>
<br/>To create a capability-based rule, perform the following steps:
<br/>1. Select an available schema namespace. To get all available schema namespaces, run Get-SpbmCapability | select Namespace -unique.
<br/>2. Choose a capability ID within the selected schema namespace by using the Get-SpbmCapability cmdlet.
<br/>3. Provide a value for the selected Capability. It can be either a scalar value or a range of values.
<br/>
<br/>To create a tag-based rule set, you must select at least one tag. If you select multiple tags, all specified tags should be of the same tag category. To see all available tags, run the Get-Tag cmdlet. You can use the Get-TagCategory and Get-Tag cmdlets to find a specific tag object.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Capability" name="Capability"></a><strong>Capability</strong></td><td><a href="SpbmCapability.html">SpbmCapability</a></td><td>Specifies an SPBM capability object.  You must select one of the available capability objects for the given namespace. OBN for this object uses full name of the object, including the namespace name. You can find all available Capability objects and their data types under a namespace by using the Get-SpbmCapability cmdlet.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Value" name="Value"></a><strong>Value</strong></td><td>Object</td><td>Specifies a capability property value. A property value is a single value or a collection of values. A single property value is expressed as a scalar value (Object), while a collection of values is expressed as a range of values (VMware.VimAutomation.VICore.Types.V1.Range), or an array (Object[]) of values. The type of each value can be Long, Int, String, Boolean, Double, DateTime, or TimeSpan.</td><td>true</td><td>false</td><tr class="r1"><td><a id="AnyOfTags" name="AnyOfTags"></a><strong>AnyOfTags</strong></td><td>Tag[]</td><td>Specifies tag objects for the new rule. All specified tags should be of the same tag category. You can find all available tags by running the Get-Tag cmdlet. You can use the Get-TagCategory and Get-Tag cmdlets to find a specific tag.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td>VIServer</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The newly created <a href="SpbmRule.html">SpbmRule</a> object
<p class="table-title">Notes</p>Works only with vCenter Server 5.5 or later.
    
    For more information, see the VMware Storage Policy API Reference:
    https://pubs.vmware.com/vsphere-60/index.jsp#com.vmware.vspsdk.apiref.doc/right-pane.html<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">New-SpbmRule -Capability (Get-SpbmCapability -Name &quot;VSAN.forceProvisioning&quot;) -Value $true</pre><p>Creates a new SPBM rule with capability named &quot;VSAN.forceProvisioning&quot; and Boolean value set to true.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">New-SpbmRule -Capability (Get-SpbmCapability -Name VSAN.stripeWidth) -Value 2</pre><p>Creates a new SPBM rule with capability named &quot;VSAN.stripewidth&quot; and integer value set to 2.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">New-SpbmRule -AnyOfTags (Get-Tag -Category &quot;category1&quot;)</pre><p>Creates a new SPBM rule with all the tags from the &quot;category1&quot; category.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">New-SpbmRule -AnyOfTags $tag1, $tag2</pre><p>Creates a new SPBM rule with tag objects $tag1 and $tag2.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
