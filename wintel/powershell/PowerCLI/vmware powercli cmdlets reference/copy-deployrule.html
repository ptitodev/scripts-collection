<html><head> <title>Copy-DeployRule - vSphere Auto Deploy Reference</title> <meta content=" Copy-DeployRule" name="description"> <meta content= "vSphere Auto Deploy Reference, Copy-DeployRule, Copy, DeployRule" name= "keywords"> <link href="doc-style.css" rel="StyleSheet" type="text/css"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2> <h2 class="title"><a class="title" href='index.html' target="_top">vSphere Auto Deploy Reference</a></h2> <h1>Copy-DeployRule</h1> <h2>Synopsis</h2>Clones an existing rule. <p class="table-title">Syntax</p>Copy-DeployRule [-DeployRule] &lt;DeployRule&gt; [-Name &lt;String&gt;] [-AllHosts] [-ReplaceItem &lt;VIObjectCore[]&gt;] [-ReplacePattern &lt;String[]&gt;] [-NoUpdateRuleSet] [-NoActivate] [&lt;CommonParameters&gt;] <p class="table-title">Related Commands</p><a href= 'New-DeployRule.html'>New-DeployRule</a><br> <a href='Get-ESXImag%20eProfile.html'>Get-ESXImageProfile</a><br> <a href='Get-Cluster.html'>Get-Cluster</a><br> <a href='Get-Datacenter.html'>Get-Datacenter</a><br> <a href='Get-Folder.html'>Get-Folder</a><br> <a href='Get-VMHostProfile.html'>Get-VMHostProfile</a><br> <a href='Get-ScriptBundle.html'>Get-ScriptBundle</a><br> <p class="table-title">Detailed Description</p>Clones an existing rule. If you specify -Name, the new rule is assigned the specified name. Otherwise, the cmdlet assigns a new name to the original and gives the clone the name of the original rule. ^M<br> ^M<br> Use the -ReplaceItem and -ReplacePattern options to replace individual items or patterns from the old rule. ^M<br> ^M<br> If the old rule was in the working rule set, the cmdlet replaces it with the new rule unless you specify the -NoUpdateRuleSet option.^M<br> ^M<br> You must have the "AutoDeploy.Rule.Create" privilege on the root folder of vCenter Server to use this cmdlet. <p class="table-title">Parameters</p> <table cellspacing="0"> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Required?</th> <th>Pipeline Input</th> <th>Default Value</th> </tr> <tr class="r1"> <td><a id="DeployRule" name= "DeployRule"></a><strong>DeployRule</strong></td> <td><a href="DeployRule.html">DeployRule</a></td> <td>Rule to copy. This parameter support s object-by-name, so you can pass the name of the rule.</td> <td>true</td> <td>true (ByValue)</td> <td></td> </tr> <tr class="r0"> <td><a id="AllHosts" name= "AllHosts"></a><strong>AllHosts</strong></td> <td>SwitchParameter</td> <td>If you specify AllHosts, the rule is applied to all hosts.</td> <td>false</td> <td>false</td> <td></td> </tr> <tr class="r1"> <td><a id="Name" name="Name"></a><strong>Name</strong></td> <td>String</td> <td>If -Name is specified, the cmdlet assigns the name to the new rule. Otherwise, the new rule keeps the old name and the old name is renamed.</td> <td>false</td> <td>false</td> <td></td> </tr> <tr class="r0"> <td><a id="NoActivate" name= "NoActivate"></a><strong>NoActivate</strong></td> <td>SwitchParameter</td> <td>If specified, the cmdlet changes the rule and adds it to the working rule set, but does not activate the w orking rule set.</td> <td>false</td> <td>false</td> <td></td> </tr> <tr class="r1"> <td><a id="NoUpdateRuleSet" name= "NoUpdateRuleSet"></a><strong>NoUpdateRuleSet</strong></td> <td>SwitchParameter</td> <td>If specified, the cmdlet changes the rule but does not add the changed rule to the working and active rule set.</td> <td>false</td> <td>false</td> <td></td> </tr> <tr class="r0"> <td><a id="ReplaceItem" name= "ReplaceItem"></a><strong>ReplaceItem</strong></td> <td>VIObjectCore[]</td> <td>Allows you to make a copy and change individual items, for example the image profile the rule assigns. This parameter supports object-by-name, so you can pass the name of the item.</td> <td>false</td> <td>false</td> <td></td> </tr> <tr class="r1"> <td><a id="ReplacePattern" name= "ReplacePattern"></a><strong>ReplacePattern</strong></td> <td>String[]</td> <td>Allo ws you to make a copy and change individual patterns, for example the set of hosts the rule applies to.</td> <td>false</td> <td>false</td> <td></td> </tr> </table> <p class="table-title">Return Type</p>VMware.DeployAutomation.Types.<a href="DeployRule.html">DeployRule</a> <p class="table-title">Notes</p> <p class="table-title">Examples</p> <div class="example"> <p class="example-title">-------------- Example 1 --------------</p> <pre class="programlisting">C:\PS&gt; Copy-DeployRule defimg -ReplaceItem "My New ESXi 5.0"</pre> <p>Copies a rule previously retrieved with Get-DeployRule and replaces the image in that rule with the specified image.</p> <p class="example-title">----- --------- Example 2 --------------</p> <pre class="programlisting">C:\PS&gt; $img = Get-ESXImageProfile -Name "My New ESXi 5.0" C:\PS&gt; Copy-DeployRule defimg -ReplaceItem $img</pre> <p>Copies a rule previously retrieved with Get-DeployRule and replaces the image in that rule with the specified image.</p> <p class="example-title">----- --------- Example 3 --------------</p> <pre class="programlisting">C:\PS&gt; $bundle = Get-ScriptBundle -Name "MyscriptBundle" C:\PS&gt; Copy-DeployRule defimg -ReplaceItem $bundle</pre> <p>Copies a rule previously retrieved with Get-DeployRule and replaces the bundle in that rule with the specified bundle.</p> </div> <hr> Copyright Â© 1998 - 2011 VMware, Inc.&nbsp;All rights reserved.</body></html>

