<html><head><title>New-OSCustomizationSpec - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-OSCustomizationSpec" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-OSCustomizationSpec, New, OSCustomizationSpec" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-OSCustomizationSpec</h1><h2>Synopsis</h2>This cmdlet creates a new OS customization specification.<p class="table-title">Syntax</p>New-OSCustomizationSpec [-OSType &lt;String&gt;] [-Server &lt;VIServer[]&gt;] [-Name &lt;String&gt;] [-Type &lt;OSCustomizationSpecType&gt;] [-DnsServer &lt;String[]&gt;] [-DnsSuffix &lt;String[]&gt;] [-Domain &lt;String&gt;] [-NamingScheme &lt;String&gt;] [-NamingPrefix &lt;String&gt;] [-Description &lt;String&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-OSCustomizationSpec -OSCustomizationSpec &lt;OSCustomizationSpec&gt; [-Server &lt;VIServer[]&gt;] [-Name &lt;String&gt;] [-Type &lt;OSCustomizationSpecType&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-OSCustomizationSpec -FullName &lt;String&gt; -OrgName &lt;String&gt; [-OSType &lt;String&gt;] [-ChangeSid] [-DeleteAccounts] [-Server &lt;VIServer[]&gt;] [-Name &lt;String&gt;] [-Type &lt;OSCustomizationSpecType&gt;] [-DnsServer &lt;String[]&gt;] [-DnsSuffix &lt;String[]&gt;] [-GuiRunOnce &lt;String[]&gt;] [-AdminPassword &lt;String&gt;] [-TimeZone &lt;String&gt;] [-AutoLogonCount &lt;Int32&gt;] [-Domain &lt;String&gt;] [-Workgroup &lt;String&gt;] [-DomainCredentials &lt;PSCredential&gt;] [-DomainUsername &lt;String&gt;] [-DomainPassword &lt;String&gt;] [-ProductKey &lt;String&gt;] [-NamingScheme &lt;String&gt;] [-NamingPrefix &lt;String&gt;] [-Description &lt;String&gt;] [-LicenseMode &lt;LicenseMode&gt;] [-LicenseMaxConnections &lt;Int32&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/New-OSCustomizationSpec.html'>Online version</a><br><a href='Get-OSCustomizationSpec.html'>Get-OSCustomizationSpec</a><br><a href='Set-OSCustomizationSpec.html'>Set-OSCustomizationSpec</a><br><p class="table-title">Detailed Description</p>This cmdlet creates a new OS customization specification or clones an existing one. If a name is provided, creates and adds the specified customization specification to the server. Otherwise, creates and returns the requested specification object. If the Name parameter is not specified, the OSCustomizationSpec object is not persisted on the server. Either the Domain or the Workgroup parameters should be provided if a Windows specification is created. If a Linux specification is created, the Domain parameter is mandatory.  New-OSCustomizationSpec automatically creates a default NIC mapping.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="AdminPassword" name="AdminPassword"></a><strong>AdminPassword</strong></td><td>String</td><td>Specifies a new OS administrator&#39;s password. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r0"><td><a id="AutoLogonCount" name="AutoLogonCount"></a><strong>AutoLogonCount</strong></td><td>Int32</td><td>Specifies the number of times the virtual machine automatically logs in as administrator without prompting for user credentials. The valid values are in the range between 0 and Int32.MaxValue. Specifying 0 disables auto log-on. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r1"><td><a id="ChangeSid" name="ChangeSid"></a><strong>ChangeSid</strong></td><td>SwitchParameter</td><td>Indicates that the customization should modify the system security identifier (SID). This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DeleteAccounts" name="DeleteAccounts"></a><strong>DeleteAccounts</strong></td><td>SwitchParameter</td><td>Indicates that you want to delete all user accounts. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Description" name="Description"></a><strong>Description</strong></td><td>String</td><td>Provides a description for the new specification.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DnsServer" name="DnsServer"></a><strong>DnsServer</strong></td><td>String[]</td><td>Specifies the DNS server settings. This parameter applies only to Linux operating systems.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DnsSuffix" name="DnsSuffix"></a><strong>DnsSuffix</strong></td><td>String[]</td><td>Specifies the DNS suffix settings. This parameter applies only to Linux operating systems.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Domain" name="Domain"></a><strong>Domain</strong></td><td>String</td><td>Specifies a domain name.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DomainCredentials" name="DomainCredentials"></a><strong>DomainCredentials</strong></td><td>PSCredential</td><td>Specifies the credentials you want to use for domain authentication. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DomainPassword" name="DomainPassword"></a><strong>DomainPassword</strong></td><td>String</td><td>Specifies the password you want to use for domain authentication. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DomainUsername" name="DomainUsername"></a><strong>DomainUsername</strong></td><td>String</td><td>Specifies the user name you want to use for domain authentication. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r1"><td><a id="FullName" name="FullName"></a><strong>FullName</strong></td><td>String</td><td>Specifies the administrator&#39;s full name. This parameter applies only to Windows operating systems.</td><td>true</td><td>false</td><tr class="r0"><td><a id="GuiRunOnce" name="GuiRunOnce"></a><strong>GuiRunOnce</strong></td><td>String[]</td><td>Specifies a list of commands. These commands run when a user logs in for the first time after the customization completes. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r1"><td><a id="LicenseMaxConnections" name="LicenseMaxConnections"></a><strong>LicenseMaxConnections</strong></td><td>Int32</td><td>Specifies the maximum connections for server license mode. Use this parameter only if the LicenseMode parameter is set to Perserver. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r0"><td><a id="LicenseMode" name="LicenseMode"></a><strong>LicenseMode</strong></td><td><a href="LicenseMode.html">LicenseMode</a></td><td>Specifies the license mode of the Windows 2000/2003 guest operating system. The valid values are Perseat, Perserver, and Notspecified. If Perserver is set, use the LicenseMaxConnection parameter to define the maximum number of connections. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a name for the new specification.</td><td>false</td><td>false</td><tr class="r0"><td><a id="NamingPrefix" name="NamingPrefix"></a><strong>NamingPrefix</strong></td><td>String</td><td>Depends on the customization naming scheme - Custom, NamingPrefix, or Prefix. If the &quot;Custom&quot; naming scheme is used, NamingPrefix is an optional argument that is passed to the utility for this IP address. The meaning of this field is user-defined in the script. If the &quot;Fixed&quot; naming scheme is used, NamingPrefix should indicate the name of the virtual machine. If the &quot;Prefix&quot; naming scheme is selected, NamingPrefix indicates the prefix to which a unique number is appended.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NamingScheme" name="NamingScheme"></a><strong>NamingScheme</strong></td><td>String</td><td>Specifies the naming scheme for the virtual machine. The following values are valid:
<br/>
<br/>Custom - Specifies that vCenter Server will launch an external application to generate the (hostname/IP). The command line for this application must be specified in the server configuration file (vpxd.cfg) in the vpxd/name-ip-generator key.
<br/>
<br/>
<br/>Fixed - Specifies that the name is fixed.
<br/>
<br/>Prefix - Specifies that a unique name should be generated by concatenating the base string with a number. Virtual machine names are unique across the set of hosts and virtual machines known to the vCenter Server system. vCenter Server tracks the network names of virtual machines as well as hosts. VMware Tools runs in a guest operating system and reports information to vCenter Server, including the network name of the guest.
<br/>
<br/>Vm - Specifies that vCenter Server should generate a virtual machine name from a base prefix comprising the virtual machine entity name. A number is appended, if necessary, to make it unique. Virtual machine names are unique across the set of hosts and virtual machines known to the vCenter Server system. VMware Tools reports the names of existing virtual machines.</td><td>false</td><td>false</td><tr class="r0"><td><a id="OrgName" name="OrgName"></a><strong>OrgName</strong></td><td>String</td><td>Specifies the name of the organization to which the administrator belongs.</td><td>true</td><td>false</td><tr class="r1"><td><a id="OSCustomizationSpec" name="OSCustomizationSpec"></a><strong>OSCustomizationSpec</strong></td><td><a href="OSCustomizationSpec.html">OSCustomizationSpec</a></td><td>Specifies an OS customization specification that you want to clone.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="OSType" name="OSType"></a><strong>OSType</strong></td><td>String</td><td>Specifies the type of the operating system. The valid values are Linux and Windows.</td><td>false</td><td>false</td><tr class="r1"><td><a id="ProductKey" name="ProductKey"></a><strong>ProductKey</strong></td><td>String</td><td>Specifies the MS product key. If the guest OS version is earlier than Vista, this parameter is required in order to make the customization unattended. For Vista or later, the OS customization is unattended no matter if the ProductKey parameter is set.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>true (ByValue)</td><tr class="r1"><td><a id="TimeZone" name="TimeZone"></a><strong>TimeZone</strong></td><td>String</td><td>Specifies the name or ID of the time zone for a Windows guest OS only. Using wildcards is supported. The following time zones are available:
<br/>
<br/>
<br/>000 Int&#39;l Dateline
<br/>001 Samoa
<br/>002 Hawaii
<br/>003 Alaskan
<br/>004 Pacific
<br/>010 Mountain (U.S. and Canada)
<br/>015 U.S. Mountain: Arizona
<br/>020 Central (U.S. and Canada)
<br/>025 Canada Central
<br/>030 Mexico
<br/>033 Central America
<br/>035 Eastern (U.S. and Canada)
<br/>040 U.S. Eastern: Indiana (East)
<br/>045 S.A. Pacific
<br/>050 Atlantic (Canada)
<br/>055 S.A. Western
<br/>056 Pacific S.A.
<br/>060 Newfoundland
<br/>065 E. South America
<br/>070 S.A. Eastern
<br/>073 Greenland
<br/>075 Mid-Atlantic
<br/>080 Azores
<br/>083 Cape Verde Islands
<br/>085 GMT (Greenwich Mean Time)
<br/>090 GMT Greenwich
<br/>095 Central Europe
<br/>100 Central European
<br/>105 Romance
<br/>110 W. Europe
<br/>113 W. Central Africa
<br/>115 E. Europe
<br/>120 Egypt
<br/>125 EET (Helsinki, Riga, Tallinn)
<br/>130 EET (Athens, Istanbul, Minsk)
<br/>135 Israel: Jerusalem
<br/>140 S. Africa: Harare, Pretoria
<br/>145 Russian
<br/>150 Arab
<br/>155 E. Africa
<br/>160 Iran
<br/>165 Arabian
<br/>170 Caucasus Pacific (U.S. and Canada)
<br/>175 Afghanistan
<br/>180 Russia Yekaterinburg
<br/>185 W. Asia
<br/>190 India
<br/>193 Nepal
<br/>195 Central Asia
<br/>200 Sri Lanka
<br/>201 N. Central Asia
<br/>203 Myanmar: Rangoon
<br/>205 S.E. Asia
<br/>207 N. Asia
<br/>210 China
<br/>215 Singapore
<br/>220 Taipei
<br/>225 W. Australia
<br/>227 N. Asia East
<br/>230 Korea: Seoul
<br/>235 Tokyo
<br/>240 Sakha Yakutsk
<br/>245 A.U.S. Central: Darwin
<br/>250 Central Australia
<br/>255 A.U.S. Eastern
<br/>260 E. Australia
<br/>265 Tasmania
<br/>270 Vladivostok
<br/>275 W. Pacific
<br/>280 Central Pacific
<br/>285 Fiji
<br/>290 New Zealand
<br/>300 Tonga</td><td>false</td><td>false</td><tr class="r0"><td><a id="Type" name="Type"></a><strong>Type</strong></td><td><a href="OSCustomizationSpecType.html">OSCustomizationSpecType</a></td><td>Specifies the type of the OS customization specification. The valid values are Persistent and NonPersistent.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Workgroup" name="Workgroup"></a><strong>Workgroup</strong></td><td>String</td><td>Specifies a workgroup. This parameter applies only to Windows operating systems.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The newly created <a href="OSCustomizationSpec.html">OSCustomizationSpec</a> object
<p class="table-title">Notes</p>When the ProductKey parameter is not specified, the OS customization is unattended only if the Windows guest 
    operating system version is Vista or later.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">New-OSCustomizationSpec -Name Spec -OSType Windows -FullName Administrator -OrgName Organization -NamingScheme Fixed -NamingPrefix Computer -ProductKey &quot;xxxx-xxxx&quot; -LicenseMode PerSeat -Workgroup Workgroup -ChangeSid</pre><p>Generates a new SID for the machine and sets the name of the machine to &quot;Computer&quot;.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">New-OSCustomizationSpec -Name Spec -OSType Windows -Description &quot;This spec adds a computer in a domain.&quot; -FullName Administrator -OrgName Organization -NamingScheme Fixed -NamingPrefix &quot;Computer&quot; -ProductKey &quot;xxxx-xxxx&quot; -LicenseMode Perserver -LicenseMaxConnections 30 -AdminPassword pass -Domain Domain -DomainUsername Root -DomainPassword pass</pre><p>Creates a customization specification that adds a computer in the domain named &quot;Domain&quot;.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
