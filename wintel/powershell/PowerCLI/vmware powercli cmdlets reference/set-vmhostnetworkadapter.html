<html><head><title>Set-VMHostNetworkAdapter - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-VMHostNetworkAdapter" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-VMHostNetworkAdapter, Set, VMHostNetworkAdapter" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-VMHostNetworkAdapter</h1><h2>Synopsis</h2>This cmdlet configures the specified host network adapter.<p class="table-title">Syntax</p>Set-VMHostNetworkAdapter -PhysicalNic &lt;PhysicalNic[]&gt; [-Duplex &lt;String&gt;] [-BitRatePerSecMb &lt;Int32&gt;] [-AutoNegotiate] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Set-VMHostNetworkAdapter -VirtualNic &lt;HostVirtualNic[]&gt; [-Dhcp] [-IP &lt;String&gt;] [-SubnetMask &lt;String&gt;] [-Mac &lt;String&gt;] [-Mtu &lt;Int32&gt;] [-VMotionEnabled &lt;Boolean&gt;] [-FaultToleranceLoggingEnabled &lt;Boolean&gt;] [-ManagementTrafficEnabled &lt;Boolean&gt;] [-VsanTrafficEnabled &lt;Boolean&gt;] [-IPv6ThroughDhcp &lt;Boolean&gt;] [-AutomaticIPv6 &lt;Boolean&gt;] [-IPv6 &lt;String[]&gt;] [-IPv6Enabled &lt;Boolean&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Set-VMHostNetworkAdapter -VirtualNic &lt;HostVirtualNic[]&gt; -PortGroup &lt;DistributedPortGroup&gt; [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-VMHostNetworkAdapter.html'>Online version</a><br><a href='New-VMHostNetworkAdapter.html'>New-VMHostNetworkAdapter</a><br><a href='Remove-VMHostNetworkAdapter.html'>Remove-VMHostNetworkAdapter</a><br><p class="table-title">Detailed Description</p>This cmdlet configures the specified host network adapter. For a physical NIC, you can change the duplex and the bit rate settings (10, 100, 1000, 10000). For a regular virtual NIC, you can change the IP address and the subnet mask. For a console virtual NIC, you can modify the IP and the subnet mask, or choose DHCP mode.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="AutomaticIPv6" name="AutomaticIPv6"></a><strong>AutomaticIPv6</strong></td><td>Boolean</td><td>Indicates that the IPv6 address is obtained through a router advertisement.</td><td>false</td><td>false</td><tr class="r0"><td><a id="AutoNegotiate" name="AutoNegotiate"></a><strong>AutoNegotiate</strong></td><td>SwitchParameter</td><td>Indicates that the host network adapter speed/duplex settings are configured automatically. Use this parameter only if the Duplex and BitRatePerSecMb parameters are not set.</td><td>false</td><td>false</td><tr class="r1"><td><a id="BitRatePerSecMb" name="BitRatePerSecMb"></a><strong>BitRatePerSecMb</strong></td><td>Int32</td><td>Specifies the bit rate of the link. Only valid when configuring a physical NIC. Use this parameter only if the AutoNegotiate parameter is not set. Note that updating the speed (BitRatePerSec) of a physical NIC might take some time due to the hardware configuration being performed, and the returned object might still contain the current configuration instead of the updated one.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Dhcp" name="Dhcp"></a><strong>Dhcp</strong></td><td>SwitchParameter</td><td>Indicates whether the host network adapter uses a Dhcp server. This parameter works only on ESXi hosts. For VMKernel adapters, Dhcp is supported only on ESX 4.1 and later.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Duplex" name="Duplex"></a><strong>Duplex</strong></td><td>String</td><td>Indicates whether the link is capable of full-duplex. The valid values are Full and Half. You can set this parameter only when updating a PhysicalNIC. Use this parameter only if the AutoNegotiate parameter is not set.</td><td>false</td><td>false</td><tr class="r1"><td><a id="FaultToleranceLoggingEnabled" name="FaultToleranceLoggingEnabled"></a><strong>FaultToleranceLoggingEnabled</strong></td><td>Boolean</td><td>Indicates that the network adapter is enabled for Fault Tolerance (FT) logging. This parameter is supported only on ESX/vCenter Server 4.1 and later.</td><td>false</td><td>false</td><tr class="r0"><td><a id="IP" name="IP"></a><strong>IP</strong></td><td>String</td><td>Specifies an IP address for the network adapter using an IPv4 dot notation. If the NIC has no subnet mask previously defined, you must also set the SubnetMask parameter. If the IP parameter is not specified, DHCP mode is enabled. Only valid when configuring a virtual NIC.</td><td>false</td><td>false</td><tr class="r1"><td><a id="IPv6" name="IPv6"></a><strong>IPv6</strong></td><td>String[]</td><td>Specifies static addresses using the following format: &lt;IPv6&gt;/&lt;subnet_prefix_length&gt; or &lt;IPv6&gt;. If you skip &lt;subnet_prefix_length&gt;, the default value of 64 is used. Specifying a value for IPv6 parameter overrides the current configuration. To clear all configured static IP addresses, pass an empty array to the IPv6 parameter.</td><td>false</td><td>false</td><tr class="r0"><td><a id="IPv6Enabled" name="IPv6Enabled"></a><strong>IPv6Enabled</strong></td><td>Boolean</td><td>Indicates that IPv6 configuration is enabled. Setting this parameter to $false disables all IPv6-related parameters. If the value is $true&quot;, you need to provide values for at least one of the IPv6ThroughDhcp, AutomaticIPv6, and IPv6 parameters.</td><td>false</td><td>false</td><tr class="r1"><td><a id="IPv6ThroughDhcp" name="IPv6ThroughDhcp"></a><strong>IPv6ThroughDhcp</strong></td><td>Boolean</td><td>Indicates that the IPv6 address is obtained through DHCP.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Mac" name="Mac"></a><strong>Mac</strong></td><td>String</td><td>Specifies the media access control (MAC) address of the virtual network adapter. Only valid when configuring a virtual NIC.</td><td>false</td><td>false</td><tr class="r1"><td><a id="ManagementTrafficEnabled" name="ManagementTrafficEnabled"></a><strong>ManagementTrafficEnabled</strong></td><td>Boolean</td><td>Indicates that you want to enable the network adapter for management traffic. This parameter is supported only on ESX/ESXi/vCenter Server 4.1 and later.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Mtu" name="Mtu"></a><strong>Mtu</strong></td><td>Int32</td><td>Specifies the MTU size.</td><td>false</td><td>false</td><tr class="r1"><td><a id="PhysicalNic" name="PhysicalNic"></a><strong>PhysicalNic</strong></td><td><a href="PhysicalNic.html">PhysicalNic</a>[]</td><td>Specifies the PhysicalNIC objects you want to update.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="PortGroup" name="PortGroup"></a><strong>PortGroup</strong></td><td><a href="DistributedPortGroup.html">DistributedPortGroup</a></td><td>Specifies a distributed port group to which you want to connect the host network adapter. You can use this parameter only to migrate a virtual network adapter from a standard port group to a distributed port group.</td><td>true</td><td>false</td><tr class="r1"><td><a id="SubnetMask" name="SubnetMask"></a><strong>SubnetMask</strong></td><td>String</td><td>Specifies a subnet mask for the NIC. If the NIC has a subnet mask previously defined, specifying the SubnetMask parameter when configuring the IP address is not mandatory unless you want to modify the mask. Only valid when configuring a virtual NIC.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VirtualNic" name="VirtualNic"></a><strong>VirtualNic</strong></td><td><a href="HostVirtualNic.html">HostVirtualNic</a>[]</td><td>Provide a list of the host network adapters you want to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r1"><td><a id="VMotionEnabled" name="VMotionEnabled"></a><strong>VMotionEnabled</strong></td><td>Boolean</td><td>Indicates that you want to use the virtual host/VMKernel network adapter for VMotion.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VsanTrafficEnabled" name="VsanTrafficEnabled"></a><strong>VsanTrafficEnabled</strong></td><td>Boolean</td><td>Specifies whether Virtual SAN traffic is enabled on this network adapter.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="HostNic.html">HostNic</a> objects
<p class="table-title">Notes</p>To configure IPv6 settings, you must be working on ESX 4.1 or later and IPv6 must be enabled on the ESX system.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$vswitch =  New-VirtualSwitch -VMHost 10.23.112.234  -Name VSwitch

$nic =  New-VMHostNetworkAdapter -VMHost 10.23.112.234 -PortGroup PortGroup -VirtualSwitch $vswitch -IP 10.23.123.234 -SubnetMask 255.255.254.0

Set-VMHostNetworkAdapter -VirtualNIC $nic -IP 10.23.112.245 -SubnetMask 255.255.255.0 -Mtu 4000</pre><p>Updates the network adapter IP address, Subnet mask, and MTU size.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Get-VMHost Host | Get-VMHostNetworkAdapter -VMKernel | Set-VMHostNetworkAdapter -VMotionEnabled $true</pre><p>Enable VMotion on all VMKernel network adapters on the specified host.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Get-VMHostNetworkAdapter | where { $_.PortGroupName -eq &quot;Service Console 1&quot; } | Set-VMHostNetworkAdapter -IPv6Enabled $false</pre><p>Disables the IPv6 support on a network adapter.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Get-VMHostNetworkAdapter | where { $_.PortGroupName -eq &quot;Service Console 1&quot; } | Set-VMHostNetworkAdapter -IPv6ThroughDhcp $true</pre><p>Configures a network adapter to obtain IPv6 through DHCP.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">Get-VMHostNetworkAdapter | where { $_.PortGroupName -eq &quot;Service Console 1&quot; } | Set-VMHostNetworkAdapter -AutomaticIPv6 $true</pre><p>Configures a network adapter to obtain IPv6 by a router advertisement.</p><p class="example-title">--------------  Example 6 --------------</p><pre class="programlisting">Get-VMHostNetworkAdapter | where { $_.PortGroupName -eq &quot;Service Console 1&quot; } | Set-VMHostNetworkAdapter -IPv6 $ipv6Address</pre><p>Changes the IPv6 address of a network adapter.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
