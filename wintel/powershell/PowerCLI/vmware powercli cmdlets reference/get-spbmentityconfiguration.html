<html><head><title>Get-SpbmEntityConfiguration - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Get-SpbmEntityConfiguration" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Get-SpbmEntityConfiguration, Get, SpbmEntityConfiguration" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Get-SpbmEntityConfiguration</h1><h2>Synopsis</h2>This cmdlet retrieves SPBM-related configuration data of Virtual Machine, Hard Disk and Cluster objects.<p class="table-title">Syntax</p>Get-SpbmEntityConfiguration [-StoragePolicy &lt;SpbmStoragePolicy[]&gt;] [-VMsOnly] [-HardDisksOnly] [-CheckComplianceNow] [-Server &lt;VIServer[]&gt;] [&lt;CommonParameters&gt;]
<br/>
<br/>Get-SpbmEntityConfiguration [[-VM] &lt;VIObject[]&gt;] [-HardDisk &lt;HardDisk[]&gt;] [-Cluster &lt;Cluster[]&gt;] [-CheckComplianceNow] [-Server &lt;VIServer[]&gt;] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='http://www.vmware.com/support/developer/PowerCLI/PowerCLI651/html/Get-SpbmEntityConfiguration.html'>Online version</a><br><a href='Set-SpbmEntityConfiguration.html'>Set-SpbmEntityConfiguration</a><br><p class="table-title">Detailed Description</p>This cmdlet retrieves SPBM-related configuration data of Virtual Machine, Hard Disk and Cluster objects.
<br/>The configuration data includes:
<br/>1. Associated storage policy for virtual machines or hard disks.
<br/>2. Compliance status for virtual machines or hard disks.
<br/>3. SPBM enablement status for cluster.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VM" name="VM"></a><strong>VM</strong></td><td>VIObject[]</td><td>Specifies the virtual machines, hard disks, and clusters, for which you want to retrieve SPBM-related configuration data.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="CheckComplianceNow" name="CheckComplianceNow"></a><strong>CheckComplianceNow</strong></td><td>SwitchParameter</td><td>If the value is $true, checks the compliance status and updates the server cache. If $false, returns the latest available compliance status from the server cache.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Cluster" name="Cluster"></a><strong>Cluster</strong></td><td>Cluster[]</td><td>Specifies the clusters, for which you want to check whether SPBM is enabled or disabled on them.</td><td>false</td><td>false</td><tr class="r0"><td><a id="HardDisk" name="HardDisk"></a><strong>HardDisk</strong></td><td>HardDisk[]</td><td>Specifies virtual disks for which you want to check compliance.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HardDisksOnly" name="HardDisksOnly"></a><strong>HardDisksOnly</strong></td><td>SwitchParameter</td><td>If the value is $true, retrieves the configuration data only for hard disks.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td>VIServer[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="StoragePolicy" name="StoragePolicy"></a><strong>StoragePolicy</strong></td><td><a href="SpbmStoragePolicy.html">SpbmStoragePolicy</a>[]</td><td>Specifies the storage policies against which the compliance status will be evaluated. A storage policy can be associated with one or multiple StorageObjects (VM Home or Disks). There will be one association object with compliance status for each policy - entity combination.
<br/>If no storage policy is specified, the cmdlet returns the status for all available storage policies.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="VMsOnly" name="VMsOnly"></a><strong>VMsOnly</strong></td><td>SwitchParameter</td><td>If the value is $true, retrieves the configuration data only for virtual machines.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more objects derived from <a href="SpbmEntityConfiguration.html">SpbmEntityConfiguration</a>
<p class="table-title">Notes</p>Works only with vCenter Server 5.5 or later.
    
    For more information, see the VMware Storage Policy API Reference:
    https://pubs.vmware.com/vsphere-60/index.jsp#com.vmware.vspsdk.apiref.doc/right-pane.html<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Get-SpbmEntityConfiguration -StoragePolicy $policy</pre><p>Returns the SPBM configuration and compliance status of all Virtual Machine and Hard Disk objects associated with the $policy storage policy.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Get-SpbmEntityConfiguration -StoragePolicy $policy -CheckComplianceNow</pre><p>Returns the SPBM configuration and compliance status of all Virtual Machine and Hard Disk objects associated with the $policy storage policy and updates the server cache.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Get-SpbmEntityConfiguration -StoragePolicy $policy -HardDisksOnly</pre><p>Returns the SPBM configuration and compliance status of all Hard Disk objects associated with the $policy storage policy.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Get-SpbmEntityConfiguration -VM $vm1, $vm2 -CheckComplianceNow</pre><p>Returns the SPBM configuration and compliance status of the $vm1 and $vm2 virtual machines and updates the server cache.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">Get-SpbmEntityConfiguration -HardDisk (Get-HardDisk -VM $vm1) -Cluster $cluster1</pre><p>Returns the SPBM configuration and compliance status of all Hard Disk objects of the $vm1 virtual machine and the SPBM configuration status of the $cluster1 cluster.</p><p class="example-title">--------------  Example 6 --------------</p><pre class="programlisting">Get-SpbmEntityConfiguration $vm1, $vm2, $hd1, $cluster1</pre><p>Returns the SPBM configuration and compliance status of the $vm1 and $vm2 virtual machines, the $hd1 hard disk, and the $cluster1 cluster.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
