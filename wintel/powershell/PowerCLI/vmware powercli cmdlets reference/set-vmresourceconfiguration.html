<html><head><title>Set-VMResourceConfiguration - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-VMResourceConfiguration" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-VMResourceConfiguration, Set, VMResourceConfiguration" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-VMResourceConfiguration</h1><h2>Synopsis</h2>This cmdlet configures resource allocation between the virtual machines.<p class="table-title">Syntax</p>Set-VMResourceConfiguration [-Configuration] &lt;VMResourceConfiguration[]&gt; [-HtCoreSharing &lt;HTCoreSharing&gt;] [-CpuAffinity &lt;CpuAffinity&gt;] [-CpuAffinityList &lt;Int32[]&gt;] [-CpuReservationMhz &lt;Int64&gt;] [-CpuLimitMhz &lt;Int64&gt;] [-CpuSharesLevel &lt;SharesLevel&gt;] [-NumCpuShares &lt;Int32&gt;] [-MemReservationMB &lt;Int64&gt;] [-MemReservationGB &lt;Decimal&gt;] [-MemLimitMB &lt;Int64&gt;] [-MemLimitGB &lt;Decimal&gt;] [-MemSharesLevel &lt;SharesLevel&gt;] [-NumMemShares &lt;Int32&gt;] [-Disk &lt;HardDisk[]&gt;] [-NumDiskShares &lt;Int32&gt;] [-DiskSharesLevel &lt;SharesLevel&gt;] [-DiskLimitIOPerSecond &lt;Int64&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-VMResourceConfiguration.html'>Online version</a><br><a href='Get-VMResourceConfiguration.html'>Get-VMResourceConfiguration</a><br><p class="table-title">Detailed Description</p>This cmdlet configures resource allocation between the virtual machines. To retain the current value of a setting, omit the corresponding parameter. To disable a setting (only applicable to the nullable limit settings), pass $null.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Configuration" name="Configuration"></a><strong>Configuration</strong></td><td><a href="VMResourceConfiguration.html">VMResourceConfiguration</a>[]</td><td>Specifies the configuration object you want to modify.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="CpuAffinity" name="CpuAffinity"></a><strong>CpuAffinity</strong></td><td><a href="CpuAffinity.html">CpuAffinity</a></td><td>The use of this parameter is deprecated. Use CpuAffinityList instead.
<br/>
<br/>Specifies the distribution of virtual machine CPUs across the physical cores or hyperthreads of the host. You must pass exactly as many arguments as the number of CPUs of the virtual machine. Each argument specifies the physical core or hyperthread that the virtual machine will use. Valid arguments are NoAffinity, Cpu1, ?, Cpu63.
<br/>
<br/>When the virtual machine resides in a DRS cluster, you cannot use CpuAffinity.</td><td>false</td><td>false</td><tr class="r0"><td><a id="CpuAffinityList" name="CpuAffinityList"></a><strong>CpuAffinityList</strong></td><td>Int32[]</td><td>Specifies the distribution of virtual machine CPUs across the physical cores or hyperthreads of the host. You must pass exactly as many arguments as the number of CPUs of the virtual machine. Each argument specifies the physical core or hyperthread that the virtual machine will use. Valid arguments are positive integers. To clear formerly specified arguments, pass an empty array.
<br/>
<br/>When the virtual machine resides in a DRS cluster, you cannot use CpuAffinityList.</td><td>false</td><td>false</td><tr class="r1"><td><a id="CpuLimitMhz" name="CpuLimitMhz"></a><strong>CpuLimitMhz</strong></td><td>Int64</td><td>Specifies the limit on CPU usage in MHz. Utilization will not exceed this limit even if there are available resources.</td><td>false</td><td>false</td><tr class="r0"><td><a id="CpuReservationMhz" name="CpuReservationMhz"></a><strong>CpuReservationMhz</strong></td><td>Int64</td><td>Specifies the number of CPU MHz that are guaranteed to be available.</td><td>false</td><td>false</td><tr class="r1"><td><a id="CpuSharesLevel" name="CpuSharesLevel"></a><strong>CpuSharesLevel</strong></td><td><a href="SharesLevel.html">SharesLevel</a></td><td>Specifies the CPU allocation level. Used in relative allocation between virtual machines. The valid values are Custom, High, Low, and Normal.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Disk" name="Disk"></a><strong>Disk</strong></td><td><a href="HardDisk.html">HardDisk</a>[]</td><td>Specifies the virtual hard disk you want to configure.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DiskLimitIOPerSecond" name="DiskLimitIOPerSecond"></a><strong>DiskLimitIOPerSecond</strong></td><td>Int64</td><td>Specifies the disk limit IO per second. The valid values are in the range between 16 and 2147483647. -1 means unlimited.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DiskSharesLevel" name="DiskSharesLevel"></a><strong>DiskSharesLevel</strong></td><td><a href="SharesLevel.html">SharesLevel</a></td><td>Specifies the allocation level. The level is a simplified view of shares. Levels map to a pre-determined set of numeric values for shares. If the shares value does not map to a predefined size, then the level is set as custom.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HtCoreSharing" name="HtCoreSharing"></a><strong>HtCoreSharing</strong></td><td><a href="HTCoreSharing.html">HTCoreSharing</a></td><td>Specifies whether a virtual machine is scheduled to share a physical processor core (assuming hyperthreading is enabled on the host at all). The following values are valid:
<br/>
<br/>Any - (default) the virtual CPUs of this virtual machine can freely share cores with other virtual CPUs of this or other virtual machines.
<br/>
<br/>None - the virtual CPUs of this virtual machine have exclusive use of a processor core whenever they are scheduled to it. The other hyperthread of the core is &quot;halted&quot; while this virtual machine is using the core.
<br/>
<br/>Internal - on a virtual machine with exactly two virtual processors, the two virtual processors are allowed to share one physical core (at the discretion of the ESX scheduler), but this virtual machine never shares a core with any other virtual machine. If this virtual machine has any other number of processors than two, this setting is the same as the None setting.</td><td>false</td><td>false</td><tr class="r0"><td><a id="MemLimitGB" name="MemLimitGB"></a><strong>MemLimitGB</strong></td><td>Decimal</td><td>Specifies a memory usage limit in gigabytes (GB). If this parameter is set, utilization will not exceed the specified limit even if there are available resources.</td><td>false</td><td>false</td><tr class="r1"><td><a id="MemLimitMB" name="MemLimitMB"></a><strong>MemLimitMB</strong></td><td>Int64</td><td>This parameter is obsolete. Use MemLimitGB instead.
<br/>Specifies a memory usage limit in megabytes (MB). If this parameter is set, utilization will not exceed the specified limit even if there are available resources.</td><td>false</td><td>false</td><tr class="r0"><td><a id="MemReservationGB" name="MemReservationGB"></a><strong>MemReservationGB</strong></td><td>Decimal</td><td>Specifies the guaranteed available memory in gigabytes (GB).</td><td>false</td><td>false</td><tr class="r1"><td><a id="MemReservationMB" name="MemReservationMB"></a><strong>MemReservationMB</strong></td><td>Int64</td><td>This parameter is obsolete. Use MemReservationGB instead.
<br/>Specifies the guaranteed available memory in megabytes (MB).</td><td>false</td><td>false</td><tr class="r0"><td><a id="MemSharesLevel" name="MemSharesLevel"></a><strong>MemSharesLevel</strong></td><td><a href="SharesLevel.html">SharesLevel</a></td><td>Specifies the memory allocation level for this pool. Used in relative allocation between resource consumers. The valid values are Custom, High, Low, and Normal.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NumCpuShares" name="NumCpuShares"></a><strong>NumCpuShares</strong></td><td>Int32</td><td>Specifies the CPU allocation level for this pool. Used in relative allocation between resource consumers. This parameter is ignored unless CpuSharesLevel is set to Custom.</td><td>false</td><td>false</td><tr class="r0"><td><a id="NumDiskShares" name="NumDiskShares"></a><strong>NumDiskShares</strong></td><td>Int32</td><td>Specifies the number of shares allocated. Used to determine resource allocation in case of resource contention.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NumMemShares" name="NumMemShares"></a><strong>NumMemShares</strong></td><td>Int32</td><td>Specifies the number of memory shares allocated. Used to determine resource allocation in case of resource contention.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="VMResourceConfiguration.html">VMResourceConfiguration</a> objects
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Set-VMResourceConfiguration -Configuration $conf -CpuAffinity ([CpuAffinity]::Cpu1 -bor [CpuAffinity]::Cpu2)</pre><p>Specifies two affinities for the virtual machine resource configuration in the $conf variable. Bit Or is used.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
