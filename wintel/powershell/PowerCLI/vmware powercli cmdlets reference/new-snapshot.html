<html><head><title>New-Snapshot - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-Snapshot" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-Snapshot, New, Snapshot" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-Snapshot</h1><h2>Synopsis</h2>This cmdlet creates a new snapshot of a virtual machine.<p class="table-title">Syntax</p>New-Snapshot [-VM] &lt;VirtualMachine&gt; [-Name] &lt;String&gt; [-Description &lt;String&gt;] [-Memory] [-Quiesce] [-Server &lt;VIServer[]&gt;] [-RunAsync] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/New-Snapshot.html'>Online version</a><br><a href='Get-Snapshot.html'>Get-Snapshot</a><br><a href='Remove-Snapshot.html'>Remove-Snapshot</a><br><a href='Set-Snapshot.html'>Set-Snapshot</a><br><p class="table-title">Detailed Description</p>This cmdlet creates a new snapshot of a virtual machine with the provided inputs.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VM" name="VM"></a><strong>VM</strong></td><td><a href="VirtualMachine.html">VirtualMachine</a></td><td>Specifies the virtual machine you want to snapshot. Passing multiple values to this parameter is obsolete.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a name for the new snapshot.</td><td>true</td><td>false</td><tr class="r1"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Description" name="Description"></a><strong>Description</strong></td><td>String</td><td>Provide a description of the new snapshot.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Memory" name="Memory"></a><strong>Memory</strong></td><td>SwitchParameter</td><td>If the value is $true and if the virtual machine is powered on, the virtual machine&#39;s memory state is preserved with the snapshot.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Quiesce" name="Quiesce"></a><strong>Quiesce</strong></td><td>SwitchParameter</td><td>If the value is $true and the virtual machine is powered on, VMware Tools are used to quiesce the file system of the virtual machine. This assures that a disk snapshot represents a consistent state of the guest file systems. If the virutal machine is powered off or VMware Tools are not available, the Quiesce parameter is ignored.</td><td>false</td><td>false</td><tr class="r1"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The one or more newly created <a href="Snapshot.html">Snapshot</a> objects
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">New-Snapshot -VM VM -Name BeforePatch</pre><p>Creates a new snapshot of the VM virtual machine named BeforePatch.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">New-Snapshot -VM VM2 -Name PoweredOnVM -Memory $true</pre><p>Creates a new snapshot of the VM2 powered-on virtual machine and preserves its memory state.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
