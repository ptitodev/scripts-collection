<html><head><title>Invoke-VMHostProfile - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Invoke-VMHostProfile" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Invoke-VMHostProfile, Invoke, VMHostProfile" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Invoke-VMHostProfile</h1><h2>Synopsis</h2>This cmdlet applies a host profile to the specified host or cluster.<p class="table-title">Syntax</p>Invoke-VMHostProfile [-Entity] &lt;InventoryItem[]&gt; [-Profile &lt;VMHostProfile&gt;] [-Variable &lt;Hashtable&gt;] [-AssociateOnly] [-ApplyOnly] [-RunAsync] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Invoke-VMHostProfile.html'>Online version</a><br><a href='Export-VMHostProfile.html'>Export-VMHostProfile</a><br><a href='Get-VMHostProfile.html'>Get-VMHostProfile</a><br><a href='Import-VMHostProfile.html'>Import-VMHostProfile</a><br><a href='New-VMHostProfile.html'>New-VMHostProfile</a><br><a href='Remove-VMHostProfile.html'>Remove-VMHostProfile</a><br><a href='Set-VMHostProfile.html'>Set-VMHostProfile</a><br><a href='Test-VMHostProfileCompliance.html'>Test-VMHostProfileCompliance</a><br><p class="table-title">Detailed Description</p>This cmdlet applies a host profile to the specified host or cluster. The host or cluster must be in a maintenance mode. If no value is provided to the Profile parameter, the profile currently associated with the  host or cluster is applied.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Entity" name="Entity"></a><strong>Entity</strong></td><td><a href="InventoryItem.html">InventoryItem</a>[]</td><td>Specifies hosts or clusters to which you want to apply the virtual machine host profile.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="ApplyOnly" name="ApplyOnly"></a><strong>ApplyOnly</strong></td><td>SwitchParameter</td><td>Indicates whether to apply the host profile to the specified virtual machine host without associating it.</td><td>false</td><td>false</td><tr class="r1"><td><a id="AssociateOnly" name="AssociateOnly"></a><strong>AssociateOnly</strong></td><td>SwitchParameter</td><td>Indicates whether to associate the host profile to the specified host or cluster without applying it.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Profile" name="Profile"></a><strong>Profile</strong></td><td><a href="VMHostProfile.html">VMHostProfile</a></td><td>Specifies the host profile you want to apply.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Variable" name="Variable"></a><strong>Variable</strong></td><td>Hashtable</td><td>Specifies a hash table object that provides values for the host profile required variables.</td><td>false</td><td>true (ByValue)</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more <a href="VMHost.html">VMHost</a> or <a href="Cluster.html">Cluster</a> or System.Collections.Hashtable
<p class="table-title">Notes</p>If there are missing values for the required variables, a hash table with the names of the required variables and 
    the current or default values is returned. Otherwise, all directly affected host and cluster objects are returned. 
    If the cmdlet is run for a cluster with the AssociateOnly parameter set, only the cluster object is returned, but 
    not its hosts.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Invoke-VMHostProfile -AssociateOnly -Entity $cluster -Profile $profile</pre><p>Associates the specified profile to all hosts in the specified cluster.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Invoke-VMHostProfile -Entity $vmhost -Profile $profile</pre><p>Associates and applies the specified profile to the specified host.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Get-VMHost | Invoke-VMHostProfile -ApplyOnly -Profile $profile</pre><p>Applies the specified profile to all specified hosts.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Get-VMHost | Invoke-VMHostProfile -AssociateOnly -profile $profile</pre><p>Associates the specified profile to all specified hosts.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">Invoke-VMHostProfile $vmhost</pre><p>Applies the associated host&#39;s profile to the host.</p><p class="example-title">--------------  Example 6 --------------</p><pre class="programlisting">$requireInput = Invoke-VMHostProfile $vmhost -Profile $profile;

$requireInput[&#39;network.hostPortGroup[&quot;key-vim-profile-host-HostPortgroupProfile-VMkernel&quot;].ipConfig.IpAddressPolicy.address&#39;] = &#39;192.168.0.1&#39;;

$requireInput[&#39;network.hostPortGroup[&quot;key-vim-profile-host-HostPortgroupProfile-VMkernel&quot;].ipConfig.IpAddressPolicy.subnetmask&#39;] = &#39;255.255.255.0&#39;;

Invoke-VMHostProfile $vmhost -Profile $profile -Variable $requireInput;</pre><p>Applies a profile to host but first assigns values to all required values.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
