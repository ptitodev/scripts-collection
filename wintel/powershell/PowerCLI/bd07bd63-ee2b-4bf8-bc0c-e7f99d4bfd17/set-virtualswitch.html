<html><head><title>Set-VirtualSwitch - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-VirtualSwitch" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-VirtualSwitch, Set, VirtualSwitch" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-VirtualSwitch</h1><h2>Synopsis</h2>This cmdlet modifies the properties of the specified virtual switch.<p class="table-title">Syntax</p>Set-VirtualSwitch [-VirtualSwitch] &lt;VirtualSwitch[]&gt; [[-NumPorts] &lt;Int32&gt;] [[-Nic] &lt;String[]&gt;] [[-Mtu] &lt;Int32&gt;] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-VirtualSwitch.html'>Online version</a><br><a href='Get-VirtualSwitch.html'>Get-VirtualSwitch</a><br><a href='New-VirtualSwitch.html'>New-VirtualSwitch</a><br><a href='Remove-VirtualSwitch.html'>Remove-VirtualSwitch</a><br><p class="table-title">Detailed Description</p>This cmdlet modifies the properties of the specified virtual switch. The server rounds the value of the NumPorts parameter up to the closest exact power of two, greater than the provided number. When updating NumPorts, the user needs to restart the ESX/ESXi host for the change to take effect.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VirtualSwitch" name="VirtualSwitch"></a><strong>VirtualSwitch</strong></td><td><a href="VirtualSwitch.html">VirtualSwitch</a>[]</td><td>Specifies the virtual switch you want to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="NumPorts" name="NumPorts"></a><strong>NumPorts</strong></td><td>Int32</td><td>Specifies the VirtualSwitch port number. The value is rounded to the closest exact power of two, greater than the provided number (for example, if the user specifies 67, this number is rounded to 128). The ESX host to which the virtual switch belongs, must be restarted for the change to take effect. Note that the port number displayed in the vSphere Client might differ from the value that you specified for the NumPorts parameter.
<br/>
<br/>Note: In ESX 5.5 or later, standard virtual switches are always elastic, so the NumPorts parameter is no longer applicable and its value is ignored.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Nic" name="Nic"></a><strong>Nic</strong></td><td>String[]</td><td>Specifies new network interface cards for the virtual switch. The old NICs are replaced by the specified ones.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Mtu" name="Mtu"></a><strong>Mtu</strong></td><td>Int32</td><td>Specifies the maximum transmission unit (MTU) associated with the specified virtual switch (in bytes). The MTU value must be greater than 0.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="VirtualSwitch.html">VirtualSwitch</a> objects
<p class="table-title">Notes</p>The MTU field is only available on VPX 2.5  and ESX 3.5. For older VPX versions, this field is expected to be 
    $null.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$vswitch = New-VirtualSwitch -Host 10.23.115.67 -Name VSwitch

Set-VirtualSwitch -VirtualSwitch $vswitch -MTU 500</pre><p>Creates a new virtual switch named VSwitch on the virtual machine host on IP address 10.23.115.67. Then sets the virtual switch MTU to 500.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">$vswitch = New-VirtualSwitch -VMHost 10.23.115.67

$networkAdapters = Get-VMHostNetworkAdapter -VMHost 10.23.115.67 -Physical

$phNic = $networkAdapters[0]

$vSwitch | Set-VirtualSwitch -Nic $phNic</pre><p>Creates a new virtual switch named VSwitch on the virtual machine host on IP address 10.23.115.67. Then assigns to it a network adapter.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Get-VMHost *.128 | Get-VirtualSwitch | Select-Object -First 1 | Set-VirtualSwitch -Nic vmnic5</pre><p>Add a physical network adapter named &#39;vmnic5&#39; to the first switch of the host. Note that the &#39;vmnic5&#39; adapter must not be assigned to other virtual switches.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
