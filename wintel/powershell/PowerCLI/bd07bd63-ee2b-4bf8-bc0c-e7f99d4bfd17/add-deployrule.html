<html><head><title>Add-DeployRule - vSphere Auto Deploy Reference</title><meta name="description" content=" Add-DeployRule" /><meta name="keywords" content="vSphere Auto Deploy Reference, Add-DeployRule, Add, DeployRule" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h2 class="title"><a class="title" href='index.html' target="_top">vSphere Auto Deploy Reference</a></h2><h1>Add-DeployRule</h1><h2>Synopsis</h2>Adds one or more rules to the rule set.<p class="table-title">Syntax</p>Add-DeployRule [-DeployRule] &lt;DeployRule[]&gt; [[-At] &lt;UInt32&gt;] [-NoActivate] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='Get-DeployRule.html'>Get-DeployRule</a><br><a href='New-DeployRule.html'>New-DeployRule</a><br><a href='Remove-DeployRule.html'>Remove-DeployRule</a><br><p class="table-title">Detailed Description</p>Adds one or more rules to the working rule set and then activates the working rule set.  The rule can be added at a specific index with the &quot;-At&quot; option, otherwise it is added to the end.  If you plan on making several changes to the rule set, you can pass the &quot;-NoActivate&quot; option to avoid activing the rule set after every change.
<br/>
<br/>A rule set is an ordered list of rules that determines what items, such as a host profile, should be associated with a host.  For each type of item, AutoDeploy will find a matching rule and select the item specified in that rule.  If more than one rule matches a host and the rules contain the same type of item, the item from the rule that comes first in the rule set will be used.  This behaviour makes it possible to write a single generic rule that matches many hosts and then write more specific rules to override settings for specialized hosts.
<br/>
<br/>The working rule set can be used to test out changes to the rule set against hosts in vCenter Server.  Once you are satisfied with the rules, you can activate the working rule set to control how any new hosts that are unknown to vCenter Server will be deployed.
<br/>
<br/>You must have the &quot;AutoDeploy.RuleSet.Edit&quot; privilege on the root folder of vCenter Server to use this cmdlet.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="DeployRule" name="DeployRule"></a><strong>DeployRule</strong></td><td><a href="DeployRule.html">DeployRule</a>[]</td><td>Rule(s) to add to the rule set.  You can pass a DeployRule object here or the name of the rule.</td><td>true</td><td>true (ByValue)</td><td></td></tr><tr class="r0"><td><a id="At" name="At"></a><strong>At</strong></td><td>UInt32</td><td>Index in the rule set where you want to add the rule.  The placement of the rule in the set determines its priority.  Lower indexes have a higher priority.</td><td>false</td><td>false</td><td></td></tr><tr class="r1"><td><a id="NoActivate" name="NoActivate"></a><strong>NoActivate</strong></td><td>SwitchParameter</td><td>Specify this parameter to add the rule to the working rule set but not to the active rule set. By default, the working rule set is activated after the change.</td><td>false</td><td>false</td><td></td></tr></table><p class="table-title">Return Type</p>VMware.DeployAutomation.Types.<a href="DeployRuleSet.html">DeployRuleSet</a>

<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">C:\PS&gt; Get-DeployRule &quot;testrule&quot; | Add-DeployRule</pre><p>Get a rule named &quot;testrule&quot; and add it to the end of the rule set.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">C:\PS&gt; Add-DeployRule testrule -At 0</pre><p>Add a rule named &quot;testrule&quot; to the beginning of the rule set.</p></div><hr>Copyright &copy; 1998 - 2011 VMware, Inc.&nbsp;All rights reserved.</body></html>

