<html><head><title>New-NetworkAdapter - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-NetworkAdapter" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-NetworkAdapter, New, NetworkAdapter" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-NetworkAdapter</h1><h2>Synopsis</h2>This cmdlet creates a new virtual network adapter.<p class="table-title">Syntax</p>New-NetworkAdapter [-MacAddress &lt;String&gt;] -NetworkName &lt;String&gt; [-StartConnected] [-WakeOnLan] [-Type &lt;VirtualNetworkAdapterType&gt;] [-VM] &lt;VirtualMachine&gt; [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-NetworkAdapter [-MacAddress &lt;String&gt;] [-StartConnected] [-WakeOnLan] [-Type &lt;VirtualNetworkAdapterType&gt;] -PortId &lt;String&gt; -DistributedSwitch &lt;DistributedSwitch&gt; [-VM] &lt;VirtualMachine&gt; [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-NetworkAdapter [-MacAddress &lt;String&gt;] [-StartConnected] [-WakeOnLan] [-Type &lt;VirtualNetworkAdapterType&gt;] -Portgroup &lt;VirtualPortGroupBase&gt; [-VM] &lt;VirtualMachine&gt; [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/New-NetworkAdapter.html'>Online version</a><br><a href='Get-NetworkAdapter.html'>Get-NetworkAdapter</a><br><a href='Remove-NetworkAdapter.html'>Remove-NetworkAdapter</a><br><a href='Set-NetworkAdapter.html'>Set-NetworkAdapter</a><br><p class="table-title">Detailed Description</p>This cmdlet creates a new virtual network adapter for each of the provided virtual machines and sets the optional properties if provided.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VM" name="VM"></a><strong>VM</strong></td><td><a href="VirtualMachine.html">VirtualMachine</a></td><td>Specifies the virtual machine to which you want to attach the new virtual network adapter. Passing multiple values to this parameter is obsolete.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DistributedSwitch" name="DistributedSwitch"></a><strong>DistributedSwitch</strong></td><td><a href="DistributedSwitch.html">DistributedSwitch</a></td><td>Specifies a virtual switch to which you want to connect the network adapter.</td><td>true</td><td>false</td><tr class="r0"><td><a id="MacAddress" name="MacAddress"></a><strong>MacAddress</strong></td><td>String</td><td>Specifies an optional MAC address for the new virtual network adapter.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NetworkName" name="NetworkName"></a><strong>NetworkName</strong></td><td>String</td><td>Specifies the name of the network to which you want to add the new virtual network adapter. Specifying a distributed port group name is obsolete. Use the Portgroup parameter instead.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Portgroup" name="Portgroup"></a><strong>Portgroup</strong></td><td><a href="VirtualPortGroupBase.html">VirtualPortGroupBase</a></td><td>Specifies a standard or a distributed port group to which you want to connect the new network adapter.</td><td>true</td><td>false</td><tr class="r1"><td><a id="PortId" name="PortId"></a><strong>PortId</strong></td><td>String</td><td>Specifies the port of the specified distributed switch to which you want to connect the network adapter. Use this parameter only if the DistributedSwitch parameter is specified.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="StartConnected" name="StartConnected"></a><strong>StartConnected</strong></td><td>SwitchParameter</td><td>Indicates that the virtual network adapter starts connected when the virtual machine associated with it powers on.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Type" name="Type"></a><strong>Type</strong></td><td><a href="VirtualNetworkAdapterType.html">VirtualNetworkAdapterType</a></td><td>Specifies the type of the new network adapter. The valid types are e1000, Flexible, Vmxnet, EnhancedVmxnet, and Vmxnet3, and Unknown. If no value is given to the parameter, the new network adapter is of the type recommended by VMware for the given guest OS.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WakeOnLan" name="WakeOnLan"></a><strong>WakeOnLan</strong></td><td>SwitchParameter</td><td>Indicates that wake-on-LAN is enabled on the newly created virtual network adapter.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The one or more newly created <a href="NetworkAdapter.html">NetworkAdapter</a> objects
<p class="table-title">Notes</p>There are two special cases concerning the behavior of New-NetworkAdapter:
    
    - If you are directly connected to a standalone ESX host (that is not managed by a vCenter Server), the MAC 
    address of the newly created network adapter is generated after the associated virtual machine is powered on for a 
    first time.
    
    - If you are directly connected to an ESX host that is managed by a vCenter Server, the MAC address of the newly 
    created network adapter is generated with a delay of several seconds.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Get-VM VM | New-NetworkAdapter  -NetworkName &quot;VM Network&quot; -MacAddress &#39;00:50:56:a1:00:00&#39; -WakeOnLan -StartConnected -Type EnhancedVmxnet</pre><p>Create a virtual network adapter with the specified parameters.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">$myVm = Get-VM -Name MyVM
$MyVDPortgroup = Get-VDPortgroup -Name MyVDPortGroup
New-NetworkAdapter -VM $myVM -Portgroup $MyVDPortgroup</pre><p>Adds a new network adapter to the specified virtual machine and connects it to the specified distributed port group.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">$myVM = Get-VM -Name MyVM
$MyVDSwitch = Get-VDSwitch -Name MyVDSwitch
New-NetworkAdapter -VM $myVM -DistributedSwitch $MyVDSwitch -PortId 100</pre><p>Adds a new network adapter to the specified virtual machine and connects it to the specified port on the specified vSphere distributed switch.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
