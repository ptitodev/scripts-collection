<html><head><title>New-VDSwitch - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-VDSwitch" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-VDSwitch, New, VDSwitch" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-VDSwitch</h1><h2>Synopsis</h2>This cmdlet creates vSphere distributed switches.<p class="table-title">Syntax</p>New-VDSwitch [-ContactDetails &lt;String&gt;] [-ContactName &lt;String&gt;] [-LinkDiscoveryProtocol &lt;LinkDiscoveryProtocol&gt;] [-LinkDiscoveryProtocolOperation &lt;LinkDiscoveryOperation&gt;] [-MaxPorts &lt;Int32&gt;] [-Mtu &lt;Int32&gt;] [-Notes &lt;String&gt;] [-NumUplinkPorts &lt;Int32&gt;] [-Version &lt;String&gt;] -Name &lt;String&gt; -Location &lt;VIContainer&gt; [-RunAsync] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-VDSwitch -ReferenceVDSwitch &lt;VDSwitch&gt; -Name &lt;String&gt; -Location &lt;VIContainer&gt; [-WithoutPortGroups] [-RunAsync] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>New-VDSwitch -BackupPath &lt;String&gt; [-KeepIdentifiers] [-Name &lt;String&gt;] -Location &lt;VIContainer&gt; [-WithoutPortGroups] [-RunAsync] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='http://www.vmware.com/support/developer/PowerCLI/PowerCLI651/html/New-VDSwitch.html'>Online version</a><br><a href='Get-VDSwitch.html'>Get-VDSwitch</a><br><a href='Remove-VDSwitch.html'>Remove-VDSwitch</a><br><a href='Set-VDSwitch.html'>Set-VDSwitch</a><br><a href='Export-VDSwitch.html'>Export-VDSwitch</a><br><p class="table-title">Detailed Description</p>This cmdlet creates vSphere distributed switches. You can create a new vSphere distributed switch with custom properties, specify a reference vSphere distributed switch to clone its configuration, or provide a backup profile to import the switch configuration.
<br/>
<br/>Note: Creating vSphere distributed switches from a reference switch or a backup profile requires vCenter Server 5.1 or later.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="BackupPath" name="BackupPath"></a><strong>BackupPath</strong></td><td>String</td><td>Specifies the full file path to the .zip file containing the backup configuration that you want to import. Only .zip files created with the Export-VDSwitch cmdlet are supported.
<br/>
<br/>Note: This parameter is supported only on vSphere 5.1 and later.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="ContactDetails" name="ContactDetails"></a><strong>ContactDetails</strong></td><td>String</td><td>Specifies the contact details of the vSphere distributed switch administrator.</td><td>false</td><td>false</td><tr class="r0"><td><a id="ContactName" name="ContactName"></a><strong>ContactName</strong></td><td>String</td><td>Specifies the name of the vSphere distributed switch administrator.</td><td>false</td><td>false</td><tr class="r1"><td><a id="KeepIdentifiers" name="KeepIdentifiers"></a><strong>KeepIdentifiers</strong></td><td>SwitchParameter</td><td>Indicates that the original vSphere distributed switch and port group identifiers will be preserved. You cannot specify this parameter, when the Name parameter is specified.
<br/>
<br/>Note: This parameter is supported only on vSphere 5.1 and later.</td><td>false</td><td>false</td><tr class="r0"><td><a id="LinkDiscoveryProtocol" name="LinkDiscoveryProtocol"></a><strong>LinkDiscoveryProtocol</strong></td><td><a href="LinkDiscoveryProtocol.html">LinkDiscoveryProtocol</a></td><td>Specifies the discovery protocol type of the vSphere distributed switch that you want to create. This parameter accepts CDP and LLDP values. If you do not set a value for this parameter, the default server setting is used.</td><td>false</td><td>false</td><tr class="r1"><td><a id="LinkDiscoveryProtocolOperation" name="LinkDiscoveryProtocolOperation"></a><strong>LinkDiscoveryProtocolOperation</strong></td><td><a href="LinkDiscoveryOperation.html">LinkDiscoveryOperation</a></td><td>Specifies the link discovery protocol operation for the vSphere distributed switch that you want to create. This parameter accepts Advertise, Listen, Both, and Disabled values. If you do not set a value for this parameter, the default server setting is used.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Location" name="Location"></a><strong>Location</strong></td><td>VIContainer</td><td>Specifies the location where you want to create the vSphere distributed switch. This parameter accepts Datacenter and Folder objects.
<br/>
<br/>Note: You cannot create distributed port groups with identical names in the same location. If you want to import or clone a vSphere distributed switch with its distributed port groups, you need to specify a location that does not contain identically named distributed port groups.</td><td>true</td><td>false</td><tr class="r1"><td><a id="MaxPorts" name="MaxPorts"></a><strong>MaxPorts</strong></td><td>Int32</td><td>Specifies the maximum number of ports allowed on the vSphere distributed switch that you want to create.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Mtu" name="Mtu"></a><strong>Mtu</strong></td><td>Int32</td><td>Specifies the maximum MTU size for the vSphere distributed switch that you want to create. Valid values are positive integers only.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a name for the new vSphere distributed switch that you want to create. You cannot specify this parameter, when the KeepIdentifiers parameter is specified.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Notes" name="Notes"></a><strong>Notes</strong></td><td>String</td><td>Specifies a description for the vSphere distributed switch that you want to create.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NumUplinkPorts" name="NumUplinkPorts"></a><strong>NumUplinkPorts</strong></td><td>Int32</td><td>Specifies the number of uplink ports on the vSphere distributed switch that you want to create.</td><td>false</td><td>false</td><tr class="r0"><td><a id="ReferenceVDSwitch" name="ReferenceVDSwitch"></a><strong>ReferenceVDSwitch</strong></td><td><a href="VDSwitch.html">VDSwitch</a></td><td>Specifies a reference vSphere distributed switch. The properties of the new vSphere distributed switch will be cloned from the reference vSphere distributed switch.
<br/>
<br/>Note: This parameter is supported only on vSphere 5.1 and later.</td><td>true</td><td>true (ByValue)</td><tr class="r1"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td>VIServer[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Version" name="Version"></a><strong>Version</strong></td><td>String</td><td>Specifies the version of the vSphere distributed switch that you want to create. This parameter accepts 4.0, 4.1.0, 5.0.0, 5.1.0, 5.5.0, 6.0.0, and 6.5.0 values. You cannot specify a version that is incompatible with the version of the vCenter Server system you are connected to.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WithoutPortGroups" name="WithoutPortGroups"></a><strong>WithoutPortGroups</strong></td><td>SwitchParameter</td><td>Indicates that the new vSphere distributed switch will be created without importing the port groups from the specified backup file or reference vSphere distributed switch.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The newly created <a href="VDSwitch.html">VDSwitch</a> object
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$myDatacenter = Get-Datacenter -Name &quot;MyDatacenter&quot;
New-VDSwitch -Name &quot;MyVDSwitch&quot; -Location $myDatacenter -LinkDiscoveryProtocol &quot;LLDP&quot; -LinkDiscoveryProtocolOperation &quot;Listen&quot; -MaxPorts 256 -Version &quot;5.0.0&quot;</pre><p>Creates a new vSphere distributed switch with the specified name, version, maximum number of ports, and link discovery protocol settings in the specified datacenter.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">$myFolder = Get-Folder -Name &quot;MyFolder&quot;
Get-VDSwitch -Name &quot;MyReferenceSwitch&quot; | New-VDSwitch -Name &quot;MyVDSwitch&quot; -Location $myFolder -WithoutPortGroups</pre><p>Creates a new vSphere distributed switch by cloning the configuration of the existing vSphere distributed switch named &quot;MyReferenceSwitch&quot;. The new vSphere distributed switch is created without cloning the existing port groups and is stored in the specified folder.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">$myFolder = Get-Folder -Name &quot;MyFolder&quot;
New-VDSwitch -Name &quot;MyVDSwitch&quot; -Location $myFolder -WithoutPortGroups -BackupPath &quot;c:\MyDistributedSwitchProfile.zip&quot;</pre><p>Creates a new vSphere distributed switch by importing the specified backup profile.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
