<html><head><title>Set-VMHostNetwork - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-VMHostNetwork" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-VMHostNetwork, Set, VMHostNetwork" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-VMHostNetwork</h1><h2>Synopsis</h2>This cmdlet updates the specified virtual network.<p class="table-title">Syntax</p>Set-VMHostNetwork [-Network] &lt;VMHostNetworkInfo[]&gt; [-ConsoleGateway &lt;String&gt;] [-VMKernelGateway &lt;String&gt;] [-VMKernelGatewayDevice &lt;String&gt;] [-ConsoleGatewayDevice &lt;String&gt;] [-DomainName &lt;String&gt;] [-HostName &lt;String&gt;] [-DnsFromDhcp &lt;Boolean&gt;] [-DnsDhcpDevice &lt;Object&gt;] [-DnsAddress &lt;String[]&gt;] [-SearchDomain &lt;String[]&gt;] [-IPv6Enabled &lt;Boolean&gt;] [-ConsoleV6Gateway &lt;String&gt;] [-ConsoleV6GatewayDevice &lt;String&gt;] [-VMKernelV6Gateway &lt;String&gt;] [-VMKernelV6GatewayDevice &lt;String&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-VMHostNetwork.html'>Online version</a><br><a href='Get-VMHostNetwork.html'>Get-VMHostNetwork</a><br><p class="table-title">Detailed Description</p>This cmdlet updates the specified virtual network. The service console and the VMkernel are often not connected to the same network, and therefore each needs its own gateway information. A gateway is needed for connectivity to machines not on the same IP subnet as the service console or VMkernel.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Network" name="Network"></a><strong>Network</strong></td><td><a href="VMHostNetworkInfo.html">VMHostNetworkInfo</a>[]</td><td>Specifies the host network you want to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="ConsoleGateway" name="ConsoleGateway"></a><strong>ConsoleGateway</strong></td><td>String</td><td>Specifies a new console gateway.</td><td>false</td><td>false</td><tr class="r0"><td><a id="ConsoleGatewayDevice" name="ConsoleGatewayDevice"></a><strong>ConsoleGatewayDevice</strong></td><td>String</td><td>Specifies a new console gateway device.</td><td>false</td><td>false</td><tr class="r1"><td><a id="ConsoleV6Gateway" name="ConsoleV6Gateway"></a><strong>ConsoleV6Gateway</strong></td><td>String</td><td>Specifies a console V6 gateway address.  Not supported on ESXi.</td><td>false</td><td>false</td><tr class="r0"><td><a id="ConsoleV6GatewayDevice" name="ConsoleV6GatewayDevice"></a><strong>ConsoleV6GatewayDevice</strong></td><td>String</td><td>Specifies a console V6 gateway device. Not supported on ESXi.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DnsAddress" name="DnsAddress"></a><strong>DnsAddress</strong></td><td>String[]</td><td>Specifies a new DNS address.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DnsDhcpDevice" name="DnsDhcpDevice"></a><strong>DnsDhcpDevice</strong></td><td>Object</td><td>This parameter is mandatory if the value of the DnsFromDhcp parameter is &#39;true&#39;. Otherwise, it is disregarded. If the DnsDhcpDevice parameter is set, the Dhcp DNS of the service console or VMKernel network adapter will override the system DNS. The parameter takes a ServiceConsoleNIC object, a VMKernelNIC object in case of an ESX visor, or the NIC name as a string.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DnsFromDhcp" name="DnsFromDhcp"></a><strong>DnsFromDhcp</strong></td><td>Boolean</td><td>Indicates that you want to obtain the network settings from a Dhcp server.</td><td>false</td><td>false</td><tr class="r0"><td><a id="DomainName" name="DomainName"></a><strong>DomainName</strong></td><td>String</td><td>Specifies a new domain name.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HostName" name="HostName"></a><strong>HostName</strong></td><td>String</td><td>Specifies a new host name.</td><td>false</td><td>false</td><tr class="r0"><td><a id="IPv6Enabled" name="IPv6Enabled"></a><strong>IPv6Enabled</strong></td><td>Boolean</td><td>Indicates that IPv6 configuration is enabled. Setting this parameter to $false disables the ConsoleV6Gateway, ConsoleV6GatewayDevice, and VMKernelV6Gateway parameters. IPv6 is supported only on vCenter 4.1 and ESX 4.1 or later. To use IPv6 on ESX, you must restart the host after enabling IPv6.</td><td>false</td><td>false</td><tr class="r1"><td><a id="SearchDomain" name="SearchDomain"></a><strong>SearchDomain</strong></td><td>String[]</td><td>Specifies a new search domain.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VMKernelGateway" name="VMKernelGateway"></a><strong>VMKernelGateway</strong></td><td>String</td><td>Specifies a new kernel gateway.</td><td>false</td><td>false</td><tr class="r1"><td><a id="VMKernelGatewayDevice" name="VMKernelGatewayDevice"></a><strong>VMKernelGatewayDevice</strong></td><td>String</td><td>Specifies a new kernel gateway device.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VMKernelV6Gateway" name="VMKernelV6Gateway"></a><strong>VMKernelV6Gateway</strong></td><td>String</td><td>Specifies a VMKernel V6 gateway address. This parameter is supported only on ESX hosts.</td><td>false</td><td>false</td><tr class="r1"><td><a id="VMKernelV6GatewayDevice" name="VMKernelV6GatewayDevice"></a><strong>VMKernelV6GatewayDevice</strong></td><td>String</td><td>Specifies a VMKernel V6 gateway device. This parameter is supported only on ESX hosts.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="VMHostNetworkInfo.html">VMHostNetworkInfo</a> objects
<p class="table-title">Notes</p>If &quot;DnsFromDhcp&quot; is enabled ?DomainName? and ?HostName? cannot be explicitly set.
    To configure IPv6 settings, you must be working on ESX 4.1 or later, and IPv6 must be enabled on the host system. 
    The new IPv6 settings take effect after the host is restarted.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$vmHostNetworkInfo = Get-VmHostNetwork -Host Host

Set-VmHostNetwork -Network $vmHostNetworkInfo -VMKernelGateway 10.23.11.11 -DomainName eng.vmware.com -HostName Host1 -DnsFromDhcp $false</pre><p>Gets the network configuration of the virtual machine host named Host. Sets the virtual machine kernel gateway, the domain name, the host name, and the Dhcp of the network.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Get-VMHost Host | Get-VMHostNetwork | Set-VMHostNetwork -IPv6Enabled $true

Get-VMHost Host | Restart-VMHost -Force -Confirm:$false</pre><p>Enables IPv6 support on the Host host and restarts the host.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Get-VMHost Host | Get-VMHostNetwork | Set-VMHostNetwork -ConsoleV6Gateway $ipv6GatewayAddress -ConsoleV6GatewayDevice &quot;vswif0&quot;</pre><p>Configures the IPv6 console default gateway on the Host host.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Get-VMHost Host | Get-VMHostNetwork | Set-VMHostNetwork -VMKernelV6Gateway $ipv6GatewayAddress</pre><p>Configures the IPv6 VMKernel default gateway on the Host host.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
