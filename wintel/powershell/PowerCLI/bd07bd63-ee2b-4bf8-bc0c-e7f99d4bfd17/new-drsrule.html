<html><head><title>New-DrsRule - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" New-DrsRule" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, New-DrsRule, New, DrsRule" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>New-DrsRule</h1><h2>Synopsis</h2>This cmdlet creates a new DRS rule.<p class="table-title">Syntax</p>New-DrsRule [-Name] &lt;String&gt; [-Cluster] &lt;Cluster&gt; [-Enabled &lt;Boolean&gt;] -KeepTogether &lt;Boolean&gt; -VM &lt;VirtualMachine[]&gt; [-RunAsync] [-Server &lt;VIServer[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/New-DrsRule.html'>Online version</a><br><a href='Get-DrsRule.html'>Get-DrsRule</a><br><a href='Remove-DrsRule.html'>Remove-DrsRule</a><br><a href='Set-DrsRule.html'>Set-DrsRule</a><br><p class="table-title">Detailed Description</p>This cmdlet creates a new DRS rule. Each rule defines the virtual machines that can run on the same host (affinity rule) or must run on different hosts (anti-affinity rule).<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a name for the new DRS rule.</td><td>true</td><td>false</td><tr class="r0"><td><a id="Cluster" name="Cluster"></a><strong>Cluster</strong></td><td><a href="Cluster.html">Cluster</a></td><td>Specifies the cluster for which the new DRS rule applies. Passing multiple values to this parameter is obsolete.</td><td>true</td><td>true (ByValue)</td><tr class="r1"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Enabled" name="Enabled"></a><strong>Enabled</strong></td><td>Boolean</td><td>If the value of this parameter is $true, the new DRS rule is enabled for the specified clusters. If the value is $false, it is disabled.</td><td>false</td><td>false</td><tr class="r1"><td><a id="KeepTogether" name="KeepTogether"></a><strong>KeepTogether</strong></td><td>Boolean</td><td>If the value of this parameter is $true, the new DRS rule is an affinity rule. If the value is $false, the DRS rule is an anti-affinity rule.</td><td>true</td><td>false</td><tr class="r0"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="VM" name="VM"></a><strong>VM</strong></td><td><a href="VirtualMachine.html">VirtualMachine</a>[]</td><td>Specifies the virtual machines that are referenced by the new DRS rule.</td><td>true</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>The newly created <a href="DrsVMAffinityRule.html">DrsVMAffinityRule</a> object
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">New-DrsRule -Cluster $cluster -Name antiAffinityRule1 -KeepTogether $false -VM $antiAffinityVMs</pre><p>Creates a new DRS rule for the cluster saved in the $cluster variable with the specified parameters.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
