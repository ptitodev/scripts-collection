<html><head><title>Connect-VIServer - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Connect-VIServer" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Connect-VIServer, Connect, VIServer" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Connect-VIServer</h1><h2>Synopsis</h2>This cmdlet establishes a connection to a vCenter Server system.<p class="table-title">Syntax</p>Connect-VIServer [-Server] &lt;String[]&gt; [-Port &lt;Int32&gt;] [-Protocol &lt;String&gt;] [-Credential &lt;PSCredential&gt;] [-User &lt;String&gt;] [-Password &lt;String&gt;] [-Session &lt;String&gt;] [-NotDefault] [-SaveCredentials] [-AllLinked] [-Force] [&lt;CommonParameters&gt;]
<br/>
<br/>Connect-VIServer -Menu [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Connect-VIServer.html'>Online version</a><br><a href='Disconnect-VIServer.html'>Disconnect-VIServer</a><br><p class="table-title">Detailed Description</p>This cmdlet establishes a connection to a vCenter Server system. The cmdlet starts a new session or re-establishes a previous session with a vCenter Server system using the specified parameters.
<br/>
<br/>When you attempt to connect to a server, the server checks for valid certificates. To set the default behavior of VMware PowerCLI when no valid certificates are recognized, use the InvalidCertificateAction parameter of the Set-PowerCLIConfiguration cmdlet. For more information about invalid certificates, run &#39;Get-Help about_invalid_certificates&#39;.  
<br/>
<br/>You can have more than one connections to the same server. To disconnect from a server, you need to close all active connections to this server.
<br/>VMware PowerCLI supports working with multiple default servers. If you select this option, every time when you connect to a different server using Connect-VIServer, the new server connection is stored in an array variable together with the previously connected servers, unless the NotDefault parameter is set.  This variable is named $DefaultVIServers and its initial value is an empty array. When you run a cmdlet and the target servers cannot be determined from the specified parameters, the cmdlet runs against all servers stored in the array variable. To remove a server from the $DefaultVIServers variable, you can either use Disconnect-Server to close all active connections to the server, or modify the value of $DefaultVIServers manually.
<br/>
<br/>If you choose to work with a single default server, when you run a cmdlet and the target servers cannot be determined from the specified parameters, the cmdlet runs against the last connected server. This server is stored in the $defaultVIServer variable, which is updated every time you establish a new connection.
<br/>
<br/>To switch between single and multiple default servers working mode, use DefaultServerMode parameter of the Set-PowerCLIConfiguration cmdlet. Working with multiple default servers will be enabled by default in a future release.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td>String[]</td><td>Specifies the IP address or the DNS name of the vSphere server to which you want to connect. You can also specify a server by providing its IPv6 address enclosed in square brackets, for example [fe80::250:56ff:feb0:74bd%4].</td><td>true</td><td>false</td><tr class="r0"><td><a id="AllLinked" name="AllLinked"></a><strong>AllLinked</strong></td><td>SwitchParameter</td><td>Indicates whether you want to connect to vCenter Server in linked mode. If you specify $true for the AllLinked parameter and the server to which you want to connect is a part of a federation vCenter Server, you&#39;ll be connected to all members of the linked vCenter Server.
<br/>
<br/>To use this option, PowerCLI must be configured to work in multiple servers connection mode. To configure PowerCLI to support multiple servers connection, specify Multiple for the DefaultVIServerMode parameter of the Set-PowerCLI Configuration cmdlet.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Credential" name="Credential"></a><strong>Credential</strong></td><td>PSCredential</td><td>Specifies a PSCredential object that contains credentials for authenticating with the server. For more information about the server authentication logic of PowerCLI, run &quot;help about_server_authentication&quot;. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="Force" name="Force"></a><strong>Force</strong></td><td>SwitchParameter</td><td>Suppresses all user interface prompts during the cmdlet execution. Currently these include &#39;Multiple default servers&#39; and &#39;Invalid certificate action&#39;.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Menu" name="Menu"></a><strong>Menu</strong></td><td>SwitchParameter</td><td>Indicates that you want to select a connection server from a list of recently connected servers. If Menu is set to $true, the cmdlet retrieves a list of the last visited servers and enters a nested command prompt, so that you can select a server from the list.</td><td>true</td><td>false</td><tr class="r0"><td><a id="NotDefault" name="NotDefault"></a><strong>NotDefault</strong></td><td>SwitchParameter</td><td>Indicates that you do not want to include the server to which you connect into the $defaultVIServers variable.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Password" name="Password"></a><strong>Password</strong></td><td>String</td><td>Specifies the password you want to use for authenticating with the server. If the Credential parameter is also specified, this parameter is ignored. For more information about the server authentication logic of PowerCLI, run &quot;help about_server_authentication&quot;.
<br/>
<br/>Note: If the password contains special characters, enclose the entire string in single quotes (&#39;).</td><td>false</td><td>false</td><tr class="r0"><td><a id="Port" name="Port"></a><strong>Port</strong></td><td>Int32</td><td>Specifies the port on the server you want to use for the connection.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Protocol" name="Protocol"></a><strong>Protocol</strong></td><td>String</td><td>Specifies the Internet protocol you want to use for the connection. It can be either http or https.</td><td>false</td><td>false</td><tr class="r0"><td><a id="SaveCredentials" name="SaveCredentials"></a><strong>SaveCredentials</strong></td><td>SwitchParameter</td><td>Indicates that you want to save the specified credentials in the local credential store.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Session" name="Session"></a><strong>Session</strong></td><td>String</td><td>Specifies the ID of an existing vCenter Server session you want to reestablish.</td><td>false</td><td>false</td><tr class="r0"><td><a id="User" name="User"></a><strong>User</strong></td><td>String</td><td>Specifies the user name you want to use for authenticating with the server. If the Credential parameter is also specified, this parameter is ignored. For more information about the server authentication logic of PowerCLI, run &quot;help about_server_authentication&quot;. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release.
<br/>
<br/>Note: If the user name contains special characters, enclose the entire string in single quotes (&#39;).</td><td>false</td><td>true (ByValue)</td></table><p class="table-title">Return Type</p><a href="VIServer.html">VIServer</a>
<p class="table-title">Notes</p>When you connect to a server via Connect-ViServer you allocate resources on this server, and these resources 
    remain opened until Disconnect-ViServer -Force is called on this connection. Closing the PowerCLI process does not 
    close the server resources.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Connect-VIServer -Server 10.23.112.235 -Protocol https -User admin -Password pass</pre><p>Connects to a vSphere server using the User and Password parameters.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Connect-VIServer Server -Credential $myCredentialsObject -Port 1234</pre><p>Connects to a vSphere server by using a credential object.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Connect-VIServer &quot;Server&quot; -SessionId $sessionId</pre><p>Connect by using a server session ID.
<br/>Once you connect to a server, you can save the session ID - $serverObject.SessionId, so that you can restore the existing server connection instead of reconnecting.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">Connect-VIServer Server</pre><p>Connect by using integrated authentication. In this case, the credentials you are logged on to your machine must be the same as those for the server.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">Connect-VIServer &quot;Server&quot; -User user -Password pass -SaveCredentials</pre><p>Connect to a server and save the credentials in the credential store. After the credentials are stored, you can connect to the server without specifying them. To get a previously saved credential store item, use the Get-VICredentialStoreItem cmdlet.</p><p class="example-title">--------------  Example 6 --------------</p><pre class="programlisting">Connect-VIServer -Menu</pre><p>Connect to a server by choosing the server address from a list of previously connected servers.</p><p class="example-title">--------------  Example 7 --------------</p><pre class="programlisting">Connect-VIServer &quot;Server&quot; -AllLinked</pre><p>Connect to a vSphere server which is a part of a federation vCenter Server. This will Connect you to all vSphere servers in the federation as well.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
