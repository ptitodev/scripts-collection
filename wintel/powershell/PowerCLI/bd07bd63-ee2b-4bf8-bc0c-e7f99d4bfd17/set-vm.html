<html><head><title>Set-VM - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-VM" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-VM, Set, VM" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-VM</h1><h2>Synopsis</h2>This cmdlet modifies the configuration of the virtual machine.<p class="table-title">Syntax</p>Set-VM [-VM] &lt;VirtualMachine[]&gt; [-Name &lt;String&gt;] [-Version &lt;VMVersion&gt;] [-MemoryMB &lt;Int64&gt;] [-MemoryGB &lt;Decimal&gt;] [-NumCpu &lt;Int32&gt;] [-CoresPerSocket &lt;Int32&gt;] [-GuestId &lt;String&gt;] [-AlternateGuestName &lt;String&gt;] [-OSCustomizationSpec &lt;OSCustomizationSpec&gt;] [-HARestartPriority &lt;HARestartPriority&gt;] [-HAIsolationResponse &lt;HAIsolationResponse&gt;] [-DrsAutomationLevel &lt;DrsAutomationLevel&gt;] [-Server &lt;VIServer[]&gt;] [-RunAsync] [-VMSwapFilePolicy &lt;VMSwapfilePolicy&gt;] [-Notes &lt;String&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Set-VM [-VM] &lt;VirtualMachine[]&gt; [-Name &lt;String&gt;] [-Snapshot &lt;Snapshot&gt;] [-OSCustomizationSpec &lt;OSCustomizationSpec&gt;] [-HARestartPriority &lt;HARestartPriority&gt;] [-HAIsolationResponse &lt;HAIsolationResponse&gt;] [-DrsAutomationLevel &lt;DrsAutomationLevel&gt;] [-Server &lt;VIServer[]&gt;] [-RunAsync] [-VMSwapFilePolicy &lt;VMSwapfilePolicy&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Set-VM [-VM] &lt;VirtualMachine[]&gt; [-Name &lt;String&gt;] [-Server &lt;VIServer[]&gt;] [-RunAsync] [-ToTemplate] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-VM.html'>Online version</a><br><a href='Get-VM.html'>Get-VM</a><br><a href='Move-VM.html'>Move-VM</a><br><a href='New-VM.html'>New-VM</a><br><a href='Remove-VM.html'>Remove-VM</a><br><a href='Start-VM.html'>Start-VM</a><br><a href='Stop-VM.html'>Stop-VM</a><br><a href='Suspend-VM.html'>Suspend-VM</a><br><p class="table-title">Detailed Description</p>This cmdlet modifies the configuration of the virtual machine. If the OSCustomizationSpec parameter is used, the cmdlet customizes the virtual machine according to the specification. In addition, the cmdlet allows you to revert a virtual machine to a snapshot and convert a virtual machine to a template.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VM" name="VM"></a><strong>VM</strong></td><td><a href="VirtualMachine.html">VirtualMachine</a>[]</td><td>Specifies the virtual machine you want to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="AlternateGuestName" name="AlternateGuestName"></a><strong>AlternateGuestName</strong></td><td>String</td><td>Specifies the full name of the guest OS for the virtual machine if the value of the GuestID parameter is set to otherGuest or otherGuest64.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r0"><td><a id="CoresPerSocket" name="CoresPerSocket"></a><strong>CoresPerSocket</strong></td><td>Int32</td><td>Specifies the number of virtual CPU cores per socket.</td><td>false</td><td>false</td><tr class="r1"><td><a id="DrsAutomationLevel" name="DrsAutomationLevel"></a><strong>DrsAutomationLevel</strong></td><td><a href="DrsAutomationLevel.html">DrsAutomationLevel</a></td><td>Specifies a DRS (Distributed Resource Scheduler) automation level. The valid values are FullyAutomated, Manual, PartiallyAutomated, AsSpecifiedByCluster, and Disabled. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release. Specifying this parameter is only supported when the virtual machine is inside a cluster. Otherwise, an error is generated.</td><td>false</td><td>false</td><tr class="r0"><td><a id="GuestId" name="GuestId"></a><strong>GuestId</strong></td><td>String</td><td>Specifies the guest operating system of the virtual machine. The valid values for specific ESX versions are listed in the description of the VirtualMachineGuestOsIdentifier enumeration type in the vSphere API Reference available at http://www.vmware.com/support/developer/vc-sdk/. Depending on the hardware configuration of the host, some of the guest operating systems might be inapplicable.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HAIsolationResponse" name="HAIsolationResponse"></a><strong>HAIsolationResponse</strong></td><td><a href="HAIsolationResponse.html">HAIsolationResponse</a></td><td>Indicates whether the virtual machine should be powered off if a host determines that it is isolated from the rest of the compute resource. The valid values are AsSpecifiedByCluster, PowerOff, and DoNothing. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release. Specifying this parameter is only supported when the virtual machine is inside a cluster. Otherwise, an error is generated.</td><td>false</td><td>false</td><tr class="r0"><td><a id="HARestartPriority" name="HARestartPriority"></a><strong>HARestartPriority</strong></td><td><a href="HARestartPriority.html">HARestartPriority</a></td><td>Specifies the virtual machine HA restart priority. The valid values are Disabled, Low, Medium, High, and ClusterRestartPriority. VMware HA is a feature that detects failed virtual machines and automatically restarts them on alternative ESX hosts. Passing values to this parameter through a pipeline is deprecated and will be disabled in a future release. Specifying this parameter is only supported when the virtual machine is inside a cluster. Otherwise, an error is generated.</td><td>false</td><td>false</td><tr class="r1"><td><a id="MemoryGB" name="MemoryGB"></a><strong>MemoryGB</strong></td><td>Decimal</td><td>Specifies the memory size in gigabytes (GB).</td><td>false</td><td>false</td><tr class="r0"><td><a id="MemoryMB" name="MemoryMB"></a><strong>MemoryMB</strong></td><td>Int64</td><td>This parameter is obsolete. Use MemoryGB instead.
<br/>Specifies the memory size in megabytes (MB).</td><td>false</td><td>false</td><tr class="r1"><td><a id="Name" name="Name"></a><strong>Name</strong></td><td>String</td><td>Specifies a new name for the virtual machine.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Notes" name="Notes"></a><strong>Notes</strong></td><td>String</td><td>Provide a description for the virtual machine. The alias of this parameter is Description.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NumCpu" name="NumCpu"></a><strong>NumCpu</strong></td><td>Int32</td><td>Specifies the number of virtual CPUs.</td><td>false</td><td>false</td><tr class="r0"><td><a id="OSCustomizationSpec" name="OSCustomizationSpec"></a><strong>OSCustomizationSpec</strong></td><td><a href="OSCustomizationSpec.html">OSCustomizationSpec</a></td><td>Specifies a customization specification you want to apply to the virtual machine. This works only in 32-bit mode.</td><td>false</td><td>false</td><tr class="r1"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is given to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Snapshot" name="Snapshot"></a><strong>Snapshot</strong></td><td><a href="Snapshot.html">Snapshot</a></td><td>Specifies a snapshot whose state you want to apply to the virtual machine.</td><td>false</td><td>true (ByValue)</td><tr class="r0"><td><a id="ToTemplate" name="ToTemplate"></a><strong>ToTemplate</strong></td><td>SwitchParameter</td><td>Indicates that you want to convert the virtual machine to a template.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Version" name="Version"></a><strong>Version</strong></td><td><a href="VMVersion.html">VMVersion</a></td><td>Specifies the version to which you want to upgrade the virtual machine. The valid values are v4, v7, v8, v9, v10, and v11. You cannot downgrade to an earlier version.</td><td>false</td><td>false</td><tr class="r0"><td><a id="VMSwapFilePolicy" name="VMSwapFilePolicy"></a><strong>VMSwapFilePolicy</strong></td><td><a href="VMSwapfilePolicy.html">VMSwapfilePolicy</a></td><td>Specifies the swapfile placement policy. The following values are valid:
<br/>
<br/>InHostDataStore - Stores the swapfile in the datastore specified by the VMSwapfileDatastoreID property of the virtual machine host. If the VMSwapfileDatastoreID property is not set or indicates a datastore with insufficient free space, the swapfile is stored in the same directory as the virtual machine. This setting might degrade the VMotion performance.
<br/>
<br/>WithVM - Stores the swapfile in the same directory as the virtual machine.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="VirtualMachine.html">VirtualMachine</a> objects or the newly created <a href="Template.html">Template</a> objects
<p class="table-title">Notes</p>Applying customization specs works only in 32-bit mode.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$template = Get-VM VM | Set-VM -ToTemplate -Name VMTemplate</pre><p>Converts the VM virtual machine to a template and stores the template in the $template variable.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">Get-VM -Location ResourcePool01 | Set-VM -MemoryGB 2 -NumCPU 2</pre><p>Upgrades the memory and CPU count of the virtual machines in ResourcePool01.</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">Set-VM -VM VM -Version v7</pre><p>Upgrades the virtual hardware version  of the VM machine.</p><p class="example-title">--------------  Example 4 --------------</p><pre class="programlisting">$snapshot = Get-Snapshot -VM $vm -Name &quot;Initial state&quot;

Set-VM -VM $vm -Snapshot $snapshot</pre><p>Revert the VM virtual machine to the &quot;Initial state&quot; snapshot.</p><p class="example-title">--------------  Example 5 --------------</p><pre class="programlisting">$spec = Get-OSCustomizationSpec -Name FinanceDepartmentSpec;

Set-VM -VM $vm -OSCustomizationSpec $spec</pre><p>Apply a customization specification on the specified virtual machines.</p><p class="example-title">--------------  Example 6 --------------</p><pre class="programlisting">Set-VM $vm -Name &quot;Web Server&quot; -GuestID winNetStandardGuest -Description &quot;Company&#39;s web server&quot;</pre><p>Changes the name, description, and guest ID of the specified virtual machine.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
