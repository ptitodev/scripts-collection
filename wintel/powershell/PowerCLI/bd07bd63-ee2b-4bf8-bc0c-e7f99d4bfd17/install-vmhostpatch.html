<html><head><title>Install-VMHostPatch - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Install-VMHostPatch" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Install-VMHostPatch, Install, VMHostPatch" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Install-VMHostPatch</h1><h2>Synopsis</h2>This cmdlet updates the specified hosts.<p class="table-title">Syntax</p>Install-VMHostPatch [-VMHost] &lt;VMHost[]&gt; -HostPath &lt;String[]&gt; [-Server &lt;VIServer[]&gt;] [-RunAsync] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Install-VMHostPatch [-VMHost] &lt;VMHost[]&gt; -WebPath &lt;String[]&gt; [-Server &lt;VIServer[]&gt;] [-RunAsync] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Install-VMHostPatch [-VMHost] &lt;VMHost[]&gt; -LocalPath &lt;String[]&gt; [-HostUsername &lt;String&gt;] [-HostPassword &lt;SecureString&gt;] [-HostCredential &lt;PSCredential&gt;] [-Server &lt;VIServer[]&gt;] [-RunAsync] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Install-VMHostPatch.html'>Online version</a><br><a href='Get-VMHostPatch.html'>Get-VMHostPatch</a><br><p class="table-title">Detailed Description</p>This cmdlet updates the specified hosts. The cmdlet installs patches on the host. The patches that can be located locally, on a Web location, or in a host file system.
<br/>When using the LocalPath or WebPath parameters, the ESX/ESXi host attempts to store the patch contents in its local temporary directory. Because ESXi hosts might not have enough free space on their  local drives, this cannot apply to large size patches. The best practice for upgrading an ESXi host is to upload the patch contents on the host&#39;s datastore and to run Install-VMHostPatch with the HostPath parameter.
<br/>If you want to install patches packaged in a ZIP archive, you must extract them and use one of the HostPatch, LocalPath, or WebPath parameters. If you use the HostPath parameter, you must extract each patch to a temporary folder that is named after the patch ID (for example, c:\temp\ESX400-200906001\), and copy the folder in the root folder of a datastore. Note that the datastore path is case-sensitive. If you use the LocalPath parameter, you must extract each patch to a folder. The name of the folder must contain the patch ID (for example, &quot;ESX400-200906001&quot;). If you use the WebPath parameter, you must extract each patch to a folder that is published on a Web server. The patch URL address must contain the patch ID (for example, http://myInternalWebServer/esx40/ESX400-200906001/).
<br/>Depending on the component to be upgraded, you might have to set the host into a maintenance mode and to restart the host or the hostd management service after applying the patch.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VMHost" name="VMHost"></a><strong>VMHost</strong></td><td><a href="VMHost.html">VMHost</a>[]</td><td>Specifies the hosts you want to update.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HostCredential" name="HostCredential"></a><strong>HostCredential</strong></td><td>PSCredential</td><td>Specifies a PSCredential object that contains credentials for authenticating with the host.</td><td>false</td><td>false</td><tr class="r0"><td><a id="HostPassword" name="HostPassword"></a><strong>HostPassword</strong></td><td>SecureString</td><td>Specifies the password you want to use to authenticate with the host.</td><td>false</td><td>false</td><tr class="r1"><td><a id="HostPath" name="HostPath"></a><strong>HostPath</strong></td><td>String[]</td><td>Specifies a file path on the ESX/ESXi host to the patches you want to install.</td><td>true</td><td>false</td><tr class="r0"><td><a id="HostUsername" name="HostUsername"></a><strong>HostUsername</strong></td><td>String</td><td>Specifies the username you want to use to authenticate with the host.</td><td>false</td><td>false</td><tr class="r1"><td><a id="LocalPath" name="LocalPath"></a><strong>LocalPath</strong></td><td>String[]</td><td>Specifies the local file system path to the patches you want to install. Providing credentials when installing a patch from a local path is mandatory.</td><td>true</td><td>false</td><tr class="r0"><td><a id="RunAsync" name="RunAsync"></a><strong>RunAsync</strong></td><td>SwitchParameter</td><td>Indicates that the command returns immediately without waiting for the task to complete. In this mode, the output of the cmdlet is a Task object. For more information about the RunAsync parameter run &quot;help About_RunAsync&quot; in the VMware PowerCLI console.</td><td>false</td><td>false</td><tr class="r1"><td><a id="Server" name="Server"></a><strong>Server</strong></td><td><a href="VIServer.html">VIServer</a>[]</td><td>Specifies the vCenter Server systems on which you want to run the cmdlet. If no value is passed to this parameter, the command runs on the default servers. For more information about default servers, see the description of Connect-VIServer.</td><td>false</td><td>false</td><tr class="r0"><td><a id="WebPath" name="WebPath"></a><strong>WebPath</strong></td><td>String[]</td><td>Specifies the Web location of the patches you want to install.</td><td>true</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>One or more <a href="VMHostPatchResult.html">VMHostPatchResult</a> objects
<p class="table-title">Notes</p>The cmdlet works only on ESX 4.1 and later.<p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">Install-VMHostPatch -VMHost $vmhost1,$vmhost2 -LocalPath c:\esx40\patches\ESX400-200906001\metadata.zip -HostUsername admin -HostPassword pass</pre><p>Updates ESX servers using a local file. Before running the cmdlet, you must download the patch file locally and extract to a folder. The name of the folder must contain the patch ID (for example, &quot;ESX400-200906001&quot;). Providing credentials when installing a patch from a local path is mandatory.</p><p class="example-title">--------------  Example 2 --------------</p><pre class="programlisting">$vmhost | Install-VMHostPatch -WebPath http://myInternalWebServer/esx40/ESX400-200906001/metadata.zip</pre><p>Upgrades an ESX server using a Web location. Before running the cmdlet, you must download the patch file and extract it to a folder that is published on a Web server. The patch URL address must contain the patch ID (for example, http://myInternalWebServer/esx40/ESX400-200906001/).</p><p class="example-title">--------------  Example 3 --------------</p><pre class="programlisting">$datastore = Get-Datastore -Name Datastore

Copy-DatastoreItem c:\temp\ESX400-200906001\

$datastore.DatastoreBrowserPath -Recurse

$vmhost1,$vmhost2 | Install-VMHostPatch -HostPath
/vmfs/volumes/datastore/ESX400-200906001/metadata.zip</pre><p>Upgrades ESX servers using the -HostPath parameter. First, you must download the patch file and extract its contents to a temporary folder that is named after the patch ID (for example, c:\temp\ESX400-200906001\). Copy the folder in the root folder of the Datastore datastore and run Install-VMHostPatch providing the datastore path to the patch. Note that the datastore path is case-sensitive.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
