<html><head><title>Set-NicTeamingPolicy - PowerCLI System.Collections.Hashtable.ModuleName Help Reference</title><meta name="description" content=" Set-NicTeamingPolicy" /><meta name="keywords" content="PowerCLI System.Collections.Hashtable.ModuleName Help Reference, Set-NicTeamingPolicy, Set, NicTeamingPolicy" /><link href="doc-style.css" type="text/css" rel="StyleSheet"></head><body><h2 class="title"><a class="title" href='index.html' target="_top">PowerCLI Reference</a></h2><h1>Set-NicTeamingPolicy</h1><h2>Synopsis</h2>This cmdlet modifies the specified NIC teaming policy.<p class="table-title">Syntax</p>Set-NicTeamingPolicy [-VirtualSwitchPolicy] &lt;NicTeamingVirtualSwitchPolicy[]&gt; [-BeaconInterval &lt;Int32&gt;] [-LoadBalancingPolicy &lt;LoadBalancingPolicy&gt;] [-NetworkFailoverDetectionPolicy &lt;NetworkFailoverDetectionPolicy&gt;] [-NotifySwitches &lt;Boolean&gt;] [-FailbackEnabled &lt;Boolean&gt;] [-MakeNicActive &lt;PhysicalNic[]&gt;] [-MakeNicStandby &lt;PhysicalNic[]&gt;] [-MakeNicUnused &lt;PhysicalNic[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]
<br/>
<br/>Set-NicTeamingPolicy [-VirtualPortGroupPolicy] &lt;NicTeamingVirtualPortGroupPolicy[]&gt; [-InheritLoadBalancingPolicy &lt;Boolean&gt;] [-InheritNetworkFailoverDetectionPolicy &lt;Boolean&gt;] [-InheritNotifySwitches &lt;Boolean&gt;] [-InheritFailback &lt;Boolean&gt;] [-InheritFailoverOrder &lt;Boolean&gt;] [-LoadBalancingPolicy &lt;LoadBalancingPolicy&gt;] [-NetworkFailoverDetectionPolicy &lt;NetworkFailoverDetectionPolicy&gt;] [-NotifySwitches &lt;Boolean&gt;] [-FailbackEnabled &lt;Boolean&gt;] [-MakeNicActive &lt;PhysicalNic[]&gt;] [-MakeNicStandby &lt;PhysicalNic[]&gt;] [-MakeNicUnused &lt;PhysicalNic[]&gt;] [-WhatIf] [-Confirm] [&lt;CommonParameters&gt;]<p class="table-title">Related Commands</p><a href='https://vdc-repo.vmware.com/vmwb-repository/dcr-public/7837e367-fe26-4d85-bd03-84d88261642c/2bc2f4e0-41f5-48b1-929e-e1568a8fe070/doc/Set-NicTeamingPolicy.html'>Online version</a><br><a href='Get-NicTeamingPolicy.html'>Get-NicTeamingPolicy</a><br><p class="table-title">Detailed Description</p>This cmdlet modifies the specified NIC teaming policy. You can change the load balancing and failover settings. Default NIC teaming policies are set for the entire virtual switch and can be overridden at port group level.<p class="table-title">Parameters</p><table cellspacing="0"><tr><th>Name</th><th>Type</th><th>Description</th><th>Required?</td><th>Pipeline Input</th><th>Default Value</th></tr><tr class="r1"><td><a id="VirtualPortGroupPolicy" name="VirtualPortGroupPolicy"></a><strong>VirtualPortGroupPolicy</strong></td><td><a href="NicTeamingVirtualPortGroupPolicy.html">NicTeamingVirtualPortGroupPolicy</a>[]</td><td>Specifies the virtual port group policy to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r0"><td><a id="VirtualSwitchPolicy" name="VirtualSwitchPolicy"></a><strong>VirtualSwitchPolicy</strong></td><td><a href="NicTeamingVirtualSwitchPolicy.html">NicTeamingVirtualSwitchPolicy</a>[]</td><td>Specifies the virtual switch policy to configure.</td><td>true</td><td>true (ByValue)</td><tr class="r1"><td><a id="BeaconInterval" name="BeaconInterval"></a><strong>BeaconInterval</strong></td><td>Int32</td><td>Specifies the interval at which the server sends out beacon probes on all NICs in the team. The value must be a positive integer. This parameter is used when the value of the NetworkFailoverDetectionPolicy parameter is BeaconProbing.</td><td>false</td><td>false</td><tr class="r0"><td><a id="Confirm" name="Confirm"></a><strong>Confirm</strong></td><td>SwitchParameter</td><td>If the value is $true, indicates that the cmdlet asks for confirmation before running. If the value is $false, the cmdlet runs without asking for user confirmation.</td><td>false</td><td>false</td><tr class="r1"><td><a id="FailbackEnabled" name="FailbackEnabled"></a><strong>FailbackEnabled</strong></td><td>Boolean</td><td>Specifies how a physical adapter is returned to active duty after recovering from a failure. If the value is $true, the adapter is returned to active duty immediately on recovery, displacing the standby adapter that took over its slot, if any. If the value is $false, a failed adapter is left inactive even after recovery until another active adapter fails, requiring its replacement.</td><td>false</td><td>false</td><tr class="r0"><td><a id="InheritFailback" name="InheritFailback"></a><strong>InheritFailback</strong></td><td>Boolean</td><td>Indicates that the value of the FailbackEnabled parameter is inherited from the virtual switch.</td><td>false</td><td>false</td><tr class="r1"><td><a id="InheritFailoverOrder" name="InheritFailoverOrder"></a><strong>InheritFailoverOrder</strong></td><td>Boolean</td><td>Indicates that the value of the MakeNicActive, MakeNicStandBy, and MakeNicUnused parameters are inherited from the virtual switch.</td><td>false</td><td>false</td><tr class="r0"><td><a id="InheritLoadBalancingPolicy" name="InheritLoadBalancingPolicy"></a><strong>InheritLoadBalancingPolicy</strong></td><td>Boolean</td><td>Indicates that the value of the LoadBalancingPolicy parameter is inherited from the virtual switch.</td><td>false</td><td>false</td><tr class="r1"><td><a id="InheritNetworkFailoverDetectionPolicy" name="InheritNetworkFailoverDetectionPolicy"></a><strong>InheritNetworkFailoverDetectionPolicy</strong></td><td>Boolean</td><td>Indicates that the value of the NetworkFailoverDetectionPolicy parameter is inherited from the virtual switch.</td><td>false</td><td>false</td><tr class="r0"><td><a id="InheritNotifySwitches" name="InheritNotifySwitches"></a><strong>InheritNotifySwitches</strong></td><td>Boolean</td><td>Indicates that the value of the NotifySwitches parameter is inherited from the virtual switch.</td><td>false</td><td>false</td><tr class="r1"><td><a id="LoadBalancingPolicy" name="LoadBalancingPolicy"></a><strong>LoadBalancingPolicy</strong></td><td><a href="LoadBalancingPolicy.html">LoadBalancingPolicy</a></td><td>Determines how network traffic is distributed between the network adapters assigned to a switch. The following values are valid:
<br/>
<br/>LoadBalanceIP - Route based on IP hash. Choose an uplink based on a hash of the source and destination IP addresses of each packet. For non-IP packets, whatever is at those offsets is used to compute the hash.
<br/>
<br/>LoadBalanceSrcMac - Route based on source MAC hash. Choose an uplink based on a hash of the source Ethernet.
<br/>
<br/>
<br/>LoadBalanceSrcId - Route based on the originating port ID. Choose an uplink based on the virtual port where the traffic entered the virtual switch.
<br/>
<br/>ExplicitFailover - Always use the highest order uplink from the list of Active adapters that passes failover detection criteria.</td><td>false</td><td>false</td><tr class="r0"><td><a id="MakeNicActive" name="MakeNicActive"></a><strong>MakeNicActive</strong></td><td><a href="PhysicalNic.html">PhysicalNic</a>[]</td><td>Specifies the adapters you want to continue to use when the network adapter connectivity is available and active.</td><td>false</td><td>false</td><tr class="r1"><td><a id="MakeNicStandby" name="MakeNicStandby"></a><strong>MakeNicStandby</strong></td><td><a href="PhysicalNic.html">PhysicalNic</a>[]</td><td>Specifies the adapters you want to use if one of the active adapter&#39;s connectivity is unavailable.</td><td>false</td><td>false</td><tr class="r0"><td><a id="MakeNicUnused" name="MakeNicUnused"></a><strong>MakeNicUnused</strong></td><td><a href="PhysicalNic.html">PhysicalNic</a>[]</td><td>Specifies the adapters you do not want to use.</td><td>false</td><td>false</td><tr class="r1"><td><a id="NetworkFailoverDetectionPolicy" name="NetworkFailoverDetectionPolicy"></a><strong>NetworkFailoverDetectionPolicy</strong></td><td><a href="NetworkFailoverDetectionPolicy.html">NetworkFailoverDetectionPolicy</a></td><td>Specifies how to reroute traffic in the event of an adapter failure. The following values are valid:
<br/>
<br/>LinkStatus - Relies solely on the link status that the network adapter provides. This option detects failures, such as cable pulls and physical switch power failures, but not configuration errors, such as a physical switch port being blocked by spanning tree or misconfigured to the wrong VLAN or cable pulls on the other side of a physical switch.
<br/>
<br/>BeaconProbing - Sends out and listens for beacon probes on all NICs in the team and uses this information, in addition to link status, to determine link failure. This option detects many of the failures mentioned above that are not detected by link status alone.</td><td>false</td><td>false</td><tr class="r0"><td><a id="NotifySwitches" name="NotifySwitches"></a><strong>NotifySwitches</strong></td><td>Boolean</td><td>Indicates that whenever a virtual NIC is connected to the virtual switch or whenever that virtual NIC&#39;s traffic is routed over a different physical NIC in the team because of a failover event, a notification is sent over the network to update the lookup tables on the physical switches.</td><td>false</td><td>false</td><tr class="r1"><td><a id="WhatIf" name="WhatIf"></a><strong>WhatIf</strong></td><td>SwitchParameter</td><td>Indicates that the cmdlet is run only to display the changes that would be made and actually no objects are modified.</td><td>false</td><td>false</td></table><p class="table-title">Return Type</p>Zero or more modified <a href="NicTeamingVirtualSwitchPolicy.html">NicTeamingVirtualSwitchPolicy</a> or <a href="NicTeamingVirtualPortGroupPolicy.html">NicTeamingVirtualPortGroupPolicy</a> objects
<p class="table-title">Notes</p><p class="table-title">Examples</p><div class="example"><p class="example-title">--------------  Example 1 --------------</p><pre class="programlisting">$policy = Get-VirtualSwitch -VMHost (Get-VMHost *.128) -Name vSwitch1 | Get-NicTeamingPolicy

$policy | Set-NicTeamingPolicy -LoadBalancingPolicy LoadBalanceSrcMac</pre><p>Configures the NicTeaming policy  of the vSwitch1 virtual switch.</p></div><hr>Copyright &copy; VMware, Inc.&nbsp;All rights reserved.</body></html>
